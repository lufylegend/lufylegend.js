!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OS_PC="pc",t.OS_IPHONE="iPhone",t.OS_IPOD="iPod",t.OS_IPAD="iPad",t.OS_ANDROID="Android",t.OS_WINDOWS_PHONE="Windows Phone",t.OS_BLACK_BERRY="BlackBerry",t.NONE="none",t.UNDEFINED="undefined",t.LANDSCAPE="landscape",t.PORTRAIT="portrait"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},i=o;t.default={ll:o,lufylegend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeMap={}}return o(e,[{key:"set",value:function(e,t){this._nodeMap[e]=t,t.prototype._ll_className=e}},{key:"get",value:function(e){return this._nodeMap[e]}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventType=t,this._ll_preventDefault=!1}return o(e,[{key:"preventDefault",value:function(){this._ll_preventDefault=!0}}]),e}();i.INIT="init",i.COMPLETE="complete",i.ERROR="error",i.PROGRESS="progress",i.ENTER_FRAME="enter_frame",i.WINDOW_RESIZE="resize",i.WINDOW_ORIENTATIONCHANGE="orientationchange",i.SOUND_COMPLETE="sound_complete",i.END_CONTACT="endContact",i.PRE_SOLVE="preSolve",i.POST_SOLVE="postSolve",i.BEGIN_CONTACT="beginContact",i.addEventListener=function(e,t,n,o){o=o||!1,e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.attachEvent("on"+t,e[t+n]))},i.removeEventListener=function(e,t,n,o){o=o||!1,e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.detachEvent("on"+t,e[t+n]))},t.default=i},function(e,t,n){"use strict";function o(){throw"LMouseEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.MOUSE_DOWN="mousedown",o.MOUSE_UP="mouseup",o.TOUCH_START="touchstart",o.TOUCH_MOVE="touchmove",o.TOUCH_END="touchend",o.MOUSE_MOVE="mousemove",o.MOUSE_OVER="mouseover",o.MOUSE_OUT="mouseout",o.DOUBLE_CLICK="dblclick",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(73)),r=n(0),l=d(n(70)),u=d(n(8)),s=d(n(3)),c=d(n(4)),f=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LSprite",n.rotatex,n.rotatey,n.graphics=new l.default,n.graphics.parent=n,n.box2dBody=null,n.shapes=new Array,n.useCursor=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"setRotate",value:function(e){var t=this;t.box2dBody?t.box2dBody.SetAngle(e):t.rotate=e}},{key:"_rotateReady",value:function(){var e=this;e.box2dBody&&(o(e.rotatex)===r.UNDEFINED&&e.getRotateXY(),e.x=e.box2dBody.GetPosition().x*f.default.LGlobal.box2d.drawScale-e.parent.x-e.rotatex,e.y=e.box2dBody.GetPosition().y*f.default.LGlobal.box2d.drawScale-e.parent.y-e.rotatey,e.rotate=e.box2dBody.GetAngle())}},{key:"_ll_show",value:function(e){var t=this;t.graphics.ll_show(e),f.default.LGlobal.show(t.childList,e),t._ll_debugShape(e)}},{key:"startDrag",value:function(e){var t=this;t.ll_dragStart||(t.ll_touchPointID=e,t.ll_dragGlobalPoint=t.parent.localToGlobal(new u.default(t.x,t.y)),t.ll_dragMX=f.default.LGlobal.offsetX,t.ll_dragMY=f.default.LGlobal.offsetY,t.ll_dragStart=!0,f.default.LGlobal.dragList.push(t))}},{key:"stopDrag",value:function(){var e,t=void 0;for(t=0,e=f.default.LGlobal.dragList.length;t<e;t++)if(this.objectIndex===f.default.LGlobal.dragList[t].objectIndex){this.ll_dragStart=!1,f.default.LGlobal.dragList.splice(t,1);break}}},{key:"getRotateXY",value:function(e,t){var n=this;e&&t||(e=n.getWidth(),t=n.getHeight()),n.rotatex=e/2,n.rotatey=t/2}},{key:"getWidth",value:function(e){var t,n=this,i=void 0,a=void 0,l=void 0,u=void 0,s=void 0,c=void 0,f=n.graphics.startX(),d=f+n.graphics.getWidth();for(i=0,t=n.childList.length;i<t;i++)a=n.childList[i],o(a.visible)!==r.UNDEFINED&&a.visible&&(l=a.x,"function"==typeof a._startX&&(l=a._startX(e)),u=l+a.getWidth(e),l<f&&(f=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startX?n.mask._startX():n.mask.startX(),c=n.mask.getWidth(),f<s&&(f=s),d>s+c&&(d=s+c),n.ll_left=f,n.ll_right=d):(n.ll_left=n.x+f,n.ll_right=n.x+d),(d-f)*n.scaleX}},{key:"getHeight",value:function(e){var t,n=this,i=void 0,a=void 0,l=void 0,u=void 0,s=void 0,c=void 0,f=n.graphics.startY(),d=f+n.graphics.getHeight();for(i=0,t=n.childList.length;i<t;i++)a=n.childList[i],o(a.visible)!==r.UNDEFINED&&a.visible&&(l=a.y,"function"==typeof a._startY&&(l=a._startY(e)),u=l+a.getHeight(e),l<f&&(f=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startY?n.mask._startY():n.mask.startY(),c=n.mask.getHeight(),f<s&&(f=s),d>s+c&&(d=s+c),n.ll_top=f,n.ll_bottom=d):(n.ll_top=n.y+f,n.ll_bottom=n.y+d),(d-f)*n.scaleY}},{key:"_startX",value:function(e){return this.getWidth(e),this.ll_left}},{key:"startX",value:function(e){return this._startX(e)*this.scaleX}},{key:"_startY",value:function(e){return this.getHeight(e),this.ll_top}},{key:"startY",value:function(e){return this._startY(e)*this.scaleY}},{key:"_ll_loopframe",value:function(){this.dispatchEvent(s.default.ENTER_FRAME)}},{key:"clone",value:function(){var e,n=this,o=new t,i=void 0,a=void 0,r=void 0;for(o.copyProperty(n),o.graphics=n.graphics.clone(),o.graphics.parent=o,o.childList.length=0,r=0,e=n.childList.length;r<e;r++)(i=n.childList[r]).clone&&((a=i.clone()).parent=o,o.childList.push(a));return o}},{key:"_mevent",value:function(e){var t=void 0;for(t=0;t<this.mouseList.length;t++){if(this.mouseList[t].type===e)return!0}return!1}},{key:"ll_dispatchMouseEvent",value:function(e,t,n,o,i){var a=this,r=void 0;if(a.mouseEnabled)for(r=0;r<a.mouseList.length;r++){var l=a.mouseList[r];l.type===e&&(t.selfX=(o-(a.x*n.scaleX+n.x))/(n.scaleX*a.scaleX),t.selfY=(i-(a.y*n.scaleY+n.y))/(n.scaleY*a.scaleY),t.currentTarget=t.clickTarget=a,t.target||(t.target=a),l.listener(t,a))}}},{key:"ll_mouseout",value:function(e,t,n,o,i){var a=this;if(t===c.default.MOUSE_MOVE&&a.ll_mousein&&(a.ll_mousein=!1,a._mevent(c.default.MOUSE_OUT)&&a.ll_dispatchMouseEvent(c.default.MOUSE_OUT,e,n,o,i),a.mouseChildren))for(var r=a.childList.length-1;r>=0;r--)a.childList[r].mouseEvent&&a.childList[r].ll_mouseout&&a.childList[r].ll_mouseout(e,t,n,o,i)}},{key:"mouseEvent",value:function(e,t,n){if(!e)return!1;var o=this,i=void 0,a=e.offsetX,l=e.offsetY,u=void 0;if(!o.visible)return!1;if(n||(n={x:0,y:0,scaleX:1,scaleY:1}),o.ismouseon(e,n)){if(f.default.LGlobal.os===r.OS_PC&&o.useCursor&&t===c.default.MOUSE_MOVE&&(f.default.LGlobal.cursor=o.useCursor),t!==c.default.MOUSE_MOVE||o.ll_mousein||(o.ll_mousein=!0,o._mevent(c.default.MOUSE_OVER)&&o.ll_dispatchMouseEvent(c.default.MOUSE_OVER,e,n,a,l)),o.mouseChildren){for(u={x:o.x*n.scaleX+n.x,y:o.y*n.scaleY+n.y,scaleX:n.scaleX*o.scaleX,scaleY:n.scaleY*o.scaleY},i=o.childList.length-1;i>=0&&(!o.childList[i].mouseEvent||!o.childList[i].mouseEvent(e,t,u)||(e.target=o.childList[i],t===c.default.MOUSE_MOVE));i--);o._mevent(t)&&o.ll_dispatchMouseEvent(t,e,n,a,l)}return!0}return o.ll_mouseout(e,t,n,a,l),!1}},{key:"hitTestPoint",value:function(e,t){var n=this,o=n.shapes;return o&&0!==o.length||(n.getWidth(),n.getHeight(),o=[{type:f.default.LShape.RECT,arg:[n.ll_left-n.x,n.ll_top-n.y,n.ll_right-n.ll_left,n.ll_bottom-n.ll_top]}]),n.ismouseonShapes(o,e,t)}},{key:"hitTestObject",value:function(e){var t,n,o=this,i=o.shapes,a=e.shapes,r=void 0,l=void 0,u=void 0,s=void 0,c=void 0,d=void 0;for(i&&0!==i.length||(o.getWidth(),o.getHeight(),i=[{type:f.default.LShape.RECT,arg:[o.ll_left-o.x,o.ll_top-o.y,o.ll_right-o.ll_left,o.ll_bottom-o.ll_top]}]),a&&0!==a.length||(e.getWidth(),e.getHeight(),a=[{type:f.default.LShape.RECT,arg:[e.ll_left-e.x,e.ll_top-e.y,e.ll_right-e.ll_left,e.ll_bottom-e.ll_top]}]),t=o.getRootMatrix(),n=e.getRootMatrix(),r=i.length-1;r>=0;r--)for(l=i[r],d=o._changeShape(l.type,l.arg,t),u=a.length-1;u>=0;u--)if(s=a[u],c=e._changeShape(s.type,s.arg,n),l.type===f.default.LShape.VERTICES||l.type===f.default.LShape.RECT){if(s.type===f.default.LShape.VERTICES||s.type===f.default.LShape.RECT){if(f.default.LGlobal.hitTestPolygon(d,c))return!0}else if(s.type===f.default.LShape.ARC&&f.default.LGlobal.hitTestPolygonArc(d,c))return!0}else if(s.type===f.default.LShape.VERTICES||s.type===f.default.LShape.RECT){if(f.default.LGlobal.hitTestPolygonArc(c,d))return!0}else if(s.type===f.default.LShape.ARC&&Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))<d[2]+c[2])return!0;return!1}},{key:"addShape",value:function(e,t){if(!(e===f.default.LShape.VERTICES&&t.length<3))return this.shapes.push({type:e,arg:t}),this.shapes}},{key:"addShapes",value:function(e){var t=this;0===t.shapes.length?t.shapes=e:t.shapes=t.shapes.concat(e)}},{key:"clearShape",value:function(){this.shapes=[]}},{key:"_ll_debugShape",value:function(e){var t,n=this,o=void 0,i=void 0,a=void 0,r=void 0,l=void 0;if(f.default.LGlobal&&f.default.LGlobal.traceDebug&&n.shapes&&0!==n.shapes.length)for(o=0,t=n.shapes.length;o<t;o++){if(i=n.shapes[o],e=e||f.default.LGlobal.canvas,a=i.arg,e.beginPath(),i.type===f.default.LShape.RECT)e.rect(a[0],a[1],a[2],a[3]);else if(i.type===f.default.LShape.ARC)e.arc(a[0],a[1],a[2],0,2*Math.PI);else if(i.type===f.default.LShape.VERTICES){for(e.moveTo(a[0][0],a[0][1]),r=1,l=a.length;r<l;r++)e.lineTo(a[r][0],a[r][1]);e.lineTo(a[0][0],a[0][1])}e.closePath(),e.strokeStyle="#00FF00",e.stroke()}}},{key:"ismouseon",value:function(e,t){var n=this;if(!n.visible||!e)return!1;if(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))return!1;if(n.shapes&&n.shapes.length>0)return n.ismouseonShapes(n.shapes,e.offsetX,e.offsetY);var o=void 0,i=!1,a=n.childList,r={x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY};for(o=a.length-1;o>=0;o--)if(a[o].ismouseon&&(i=a[o].ismouseon(e,r)),i){e.target=n.childList[o];break}return i||(i=n.graphics.ismouseon(e,r)),i}},{key:"die",value:function(){var e,t=this,n=void 0,o=void 0;for(t.graphics.clear(),t.removeAllEventListener(),t.stopDrag(),t.box2dBody&&t.clearBody(),n=0,e=(o=t.childList).length;n<e;n++)o[n].die&&o[n].die()}},{key:"setBodyMouseJoint",value:function(e){this.box2dBody&&(this.box2dBody.mouseJoint=e)}},{key:"clearBody",value:function(e){var t=this;t.box2dBody&&(f.default.LGlobal.box2d.removeList.push(t.box2dBody),t.box2dBody=null)}},{key:"addBodyCircle",value:function(e,t,n,o,i,a,r){var l=this;l.rotatex=e,l.rotatey=e,l.box2dBody=f.default.LGlobal.box2d.addCircle(e/f.default.LGlobal.box2d.drawScale,(l.x+t)/f.default.LGlobal.box2d.drawScale,(l.y+n)/f.default.LGlobal.box2d.drawScale,1===o?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,i||.5,a||.4,r||.8),l.box2dBody.SetUserData(l)}},{key:"addBodyPolygon",value:function(e,t,n,o,i,a){var r=this;r.rotatex=e/2,r.rotatey=t/2,r.box2dBody=f.default.LGlobal.box2d.addPolygon(.5*e/f.default.LGlobal.box2d.drawScale,.5*t/f.default.LGlobal.box2d.drawScale,r.x/f.default.LGlobal.box2d.drawScale,r.y/f.default.LGlobal.box2d.drawScale,1===n?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,o||.5,i||.4,a||.8),r.box2dBody.SetUserData(r)}},{key:"addBodyVertices",value:function(e,t,n,o,i,a,r){var l=this;l.rotatex=0,l.rotatey=0,l.box2dBody=f.default.LGlobal.box2d.addVertices(e,1===o?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,i,a,r),l.box2dBody.SetUserData(l),l.box2dBody.SetPosition(new f.default.LGlobal.box2d.b2Vec2((l.x+t)/f.default.LGlobal.box2d.drawScale,(l.y+n)/f.default.LGlobal.box2d.drawScale))}}]),t}();f.default.LSprite=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(9),l=(o=r)&&o.__esModule?o:{default:o},u=n(0);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._eventList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"addEventListener",value:function(e,t){this._eventList.push({listener:t,type:e})}},{key:"removeEventListener",value:function(e,t){var n,o=void 0;for(n=this._eventList.length,o=0;o<n;o++)if(this._eventList[o]&&e===this._eventList[o].type&&(!t||this._eventList[o].listener===t))return void this._eventList.splice(o,1)}},{key:"removeAllEventListener",value:function(){this._eventList=[]}},{key:"dispatchEvent",value:function(e){for(var t=this._eventList.length,n="string"==typeof e?e:e.eventType,o=0;o<t;o++)if(this._eventList[o]&&n===this._eventList[o].type){if("string"==typeof e)this._eventList[o].listener({currentTarget:this,target:this,eventType:n,event_type:n});else if(e.target||(e.target=this),e.currentTarget||(e.currentTarget=e.target),e._ll_preventDefault=!1,this._eventList[o].listener(e),e._ll_preventDefault)return!1;return!0}return!1}},{key:"hasEventListener",value:function(e,t){for(var n=0,o=this._eventList.length;n<o;n++)if(this._eventList[n]&&e===this._eventList[n].type&&((void 0===t?"undefined":i(t))===u.UNDEFINED||t===this._eventList[n].listener))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a=g(n(3)),r=g(n(4)),l=g(n(35)),u=g(n(25)),s=g(n(68)),c=g(n(67)),f=g(n(19)),d=g(n(8)),h=g(n(66)),p=g(n(34)),v=n(16),y=g(n(5)),b=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(){throw"LGlobal cannot be instantiated"}return e.FULL_SCREEN="full_screen",e.traceDebug=!1,e.displayState=i.NONE,e.aspectRatio=i.NONE,e.canvasObj=null,e.canvas=null,e.webAudio=!0,e.objectIndex=1,e.stage=null,e.width=0,e.height=0,e.box2d=null,e.speed=50,e.IS_MOUSE_DOWN=!1,e.stopPropagation=!1,e.preventDefault=!0,e.childList=[],e.dragList=[],e.excludingContainer=[],e.fpsStatus=null,e.stageScale="noScale",e.align="M",e.mobile=!1,e.canTouch=!1,e.os=i.OS_PC,e.ios=!1,e.android=!1,e.android_new=!1,e.backgroundColor=null,e.destroy=!0,e.forceRefresh=!1,e.devicePixelRatio=window.devicePixelRatio||1,e.startTimer=0,e.keepClear=!0,e.top=0,e.left=0,e.enableWebGL=("undefined"==typeof enableWebGLCanvas?"undefined":o(enableWebGLCanvas))!==i.UNDEFINED,e.window=window,function(t){if(e.isOldFirefox=function(e){var t=e.toLowerCase().indexOf("firefox");if(t<0)return!1;var n=e.substring(t+8,e.length);return parseFloat(n)<39}(t),t.indexOf(i.OS_IPHONE)>0)e.os=i.OS_IPHONE,e.canTouch=!0,e.ios=!0;else if(t.indexOf(i.OS_IPOD)>0)e.os=i.OS_IPOD,e.canTouch=!0,e.ios=!0;else if(t.indexOf(i.OS_IPAD)>0)e.os=i.OS_IPAD,e.ios=!0,e.canTouch=!0;else if(t.indexOf(i.OS_ANDROID)>0){e.os=i.OS_ANDROID,e.canTouch=!0,e.android=!0;var n=t.indexOf(i.OS_ANDROID);parseInt(t.substr(n+8,1))>3&&(e.android_new=!0)}else t.indexOf(i.OS_WINDOWS_PHONE)>0?(e.os=i.OS_WINDOWS_PHONE,e.canTouch=!0):t.indexOf(i.OS_BLACK_BERRY)>0&&(e.os=i.OS_BLACK_BERRY,e.canTouch=!0);if(e.ios){var o=t.match(/OS\s(\d+)_(\d+)_?(\d+)?/);e.iOSversion=[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]}e.mobile=e.canTouch}(navigator.userAgent),e.setDebug=function(t){e.traceDebug=t},e.setCanvas=function(t,n,o){e.ll_createCanvas(t,n,o),e.ll_createStage(),e.displayState===e.FULL_SCREEN?e.resize():"number"==typeof e.displayState&&e.resize(e.width*e.displayState,e.height*e.displayState),e.canTouch?(e.ll_clicks=0,e.ll_prev_clickTime=0,a.default.addEventListener(e.canvasObj,r.default.TOUCH_START,e.ll_touchStart),a.default.addEventListener(document,r.default.TOUCH_END,e.ll_touchEnd),a.default.addEventListener(e.canvasObj,r.default.TOUCH_MOVE,e.ll_touchMove)):(a.default.addEventListener(e.canvasObj,r.default.DOUBLE_CLICK,e.ll_mouseDbclick),a.default.addEventListener(e.canvasObj,r.default.MOUSE_DOWN,e.ll_mouseDown),a.default.addEventListener(e.canvasObj,r.default.MOUSE_MOVE,e.ll_mouseMove),a.default.addEventListener(e.canvasObj,r.default.MOUSE_UP,e.ll_mouseUp),a.default.addEventListener(e.canvasObj,r.default.MOUSE_OUT,e.ll_mouseOut))},e.ll_createCanvas=function(t,n,o){e.id=t,e.object=document.getElementById(t),e.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+e.id+'_canvas" style="margin:0;padding:0;width:'+n+"px;height:"+o+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+e.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+e.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+e.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+e.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>',e.canvasObj=document.getElementById(e.id+"_canvas"),e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"),e._context&&(e.canvasObj.innerHTML=""),e.inputBox=document.getElementById(e.id+"_InputText"),e.inputTextareaBoxObj=document.getElementById(e.id+"_InputTextareaBox"),e.inputTextBoxObj=document.getElementById(e.id+"_InputTextBox"),e.passwordBoxObj=document.getElementById(e.id+"_passwordBox"),e.inputTextField=null,n&&(e.canvasObj.width=n),o&&(e.canvasObj.height=o),e.width=e.canvasObj.width,e.height=e.canvasObj.height,e.canvasStyleWidth=e.width,e.canvasStyleHeight=e.height,e.canvas=e.enableWebGL&&"function"==typeof enableWebGLCanvas?enableWebGLCanvas(e.canvasObj):e.canvasObj.getContext("2d"),e.offsetX=window.mouseX=0,e.offsetY=window.mouseY=0},e.ll_createStage=function(){e.stage=new y.default,e.stage.parent="root",e.childList.push(e.stage),e.stage.baseAddEvent=e.stage.addEventListener,e.stage.baseRemoveEvent=e.stage.removeEventListener,e.stage.addEventListener=function(t,n){t===a.default.WINDOW_RESIZE||t===a.default.WINDOW_ORIENTATIONCHANGE?(t===a.default.WINDOW_RESIZE?e.stage.onresizeListener=n:e.stage.onorientationchangeListener=n,e.stage.onresize||(e.stage.onresize=function(t){e.stage.onresizeEvent=t},a.default.addEventListener(e.window,t,e.stage.onresize))):t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?a.default.addEventListener(e.window,t,n):e.stage.baseAddEvent(t,n)},e.stage.removeEventListener=function(t,n){if(t===a.default.WINDOW_RESIZE||t===a.default.WINDOW_ORIENTATIONCHANGE){if(t===a.default.WINDOW_RESIZE){if(delete e.stage.onresizeListener,e.stage.onorientationchangeListener)return}else if(delete e.stage.onorientationchangeListener,e.stage.onresizeListener)return;a.default.removeEventListener(e.window,a.default.WINDOW_RESIZE,e.stage.onresize),delete e.stage.onresize}else t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?a.default.removeEventListener(e.window,t,n):e.stage.baseRemoveEvent(t,n)},e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight,a.default.addEventListener(e.window,"blur",function(){e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))})},e.ll_touchStart=function(t){e._outStageCheckCount=1,e.IS_MOUSE_DOWN=!0,e.stage.dispatchEvent(new a.default(u.default.FOCUS_IN)),e.inputBox.style.display!==i.NONE&&e.inputTextField._ll_getValue();var n,o,l=void 0;if(n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===c.default.NONE)l=e.ll_touchStartEvent(t,0,n,o);else if(s.default.inputMode===c.default.TOUCH_POINT)for(var f=0,d=t.touches.length;f<d;f++)s.default.touchs["touch"+t.touches[f].identifier]||(l=e.ll_touchStartEvent(t,f,n,o));var h=(new Date).getTime();e.ll_clicks=h<=e.ll_prev_clickTime+500?e.ll_clicks+1:1,e.ll_prev_clickTime=h,2===e.ll_clicks&&(e.mouseEvent(l,r.default.DOUBLE_CLICK),e.ll_clicks=0),e.mouseJoint_start&&e.mouseJoint_start(l),e.touchHandler(t)},e.ll_touchStartEvent=function(t,n,o,i){var a={offsetX:t.touches[n].pageX-o,offsetY:t.touches[n].pageY-i,touchPointID:t.touches[n].identifier,force:t.touches[n].force,rotationAngle:t.touches[n].rotationAngle,radiusX:t.touches[n].radiusX,radiusY:t.touches[n].radiusY};return a.offsetX=e.ll_scaleX(a.offsetX),a.offsetY=e.ll_scaleY(a.offsetY),window.mouseX=e.offsetX=a.offsetX,window.mouseY=e.offsetY=a.offsetY,s.default.touchs["touch"+a.touchPointID]=a,e.mouseEvent(a,r.default.MOUSE_DOWN),e.buttonStatusEvent=a,a},e.ll_touchEnd=function(t){var n=void 0,o=void 0,i=void 0,l=void 0,f=void 0,d=void 0;if(e.IS_MOUSE_DOWN=!1,s.default.inputMode===c.default.TOUCH_POINT)for(i in s.default.touchs){for(n=s.default.touchs[i],d=!1,l=0,f=t.touches.length;l<f;l++)if(t.touches[l].identifier===n.touchPointID){d=!0;break}d||(o=n,delete s.default.touchs[i],e.mouseEvent(o,r.default.MOUSE_UP))}o||(o={offsetX:e.offsetX,offsetY:e.offsetY},e.mouseEvent(o,r.default.MOUSE_UP)),e.touchHandler(t),e.buttonStatusEvent=null,e.mouseJoint_end&&e.mouseJoint_end(),e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))},e.ll_touchMove=function(t){var n,o,i=void 0,a=t.touches.length;n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===c.default.NONE&&(a=1);for(var l=0,u=t.touches.length;l<u&&l<a;l++)(i={offsetX:t.touches[l].pageX-n,offsetY:t.touches[l].pageY-o,touchPointID:t.touches[l].identifier}).offsetX=e.ll_scaleX(i.offsetX),i.offsetY=e.ll_scaleY(i.offsetY),window.mouseX=e.offsetX=i.offsetX,window.mouseY=e.offsetY=i.offsetY,s.default.touchs["touch"+i.touchPointID]&&s.default.touchs["touch"+i.touchPointID].offsetX===i.offsetX&&s.default.touchs["touch"+i.touchPointID].offsetY===i.offsetY||(e.buttonStatusEvent=i,s.default.touchs["touch"+i.touchPointID]=i,i.offsetX<=0||i.offsetX>=e.innerWidth||i.offsetX>=e.width||i.offsetY<=0||i.offsetY>=e.innerHeight||i.offsetY>=e.height?e._outStageCheckCount=0:e._outStageCheckCount=1,e.mouseEvent(i,r.default.MOUSE_MOVE));e.touchHandler(t),e.mouseJoint_move&&e.mouseJoint_move(i)},e.ll_mouseDbclick=function(t){o(t.offsetX)===i.UNDEFINED&&o(t.layerX)!==i.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.DOUBLE_CLICK)},e.ll_mouseDown=function(t){o(t.offsetX)===i.UNDEFINED&&o(t.layerX)!==i.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY),e.inputBox.style.display!==i.NONE&&e.inputTextField._ll_getValue();var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_DOWN),e.IS_MOUSE_DOWN=!0,e.mouseJoint_start&&e.mouseJoint_start(n)},e.ll_mouseMove=function(t){o(t.offsetX)===i.UNDEFINED&&o(t.layerX)!==i.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.buttonStatusEvent=n,window.mouseX=e.offsetX=n.offsetX,window.mouseY=e.offsetY=n.offsetY,e.cursor="default",window.mouseX<=0||window.mouseX>=e.innerWidth||window.mouseX>=e.width||window.mouseY<=0||window.mouseY>=e.innerHeight||window.mouseY>=e.height?e._outStageCheckCount&&(e._outStageCheckCount=0,e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))):e._outStageCheckCount||(e._outStageCheckCount=1,e.stage.dispatchEvent(new a.default(u.default.FOCUS_IN))),e.mouseEvent(n,r.default.MOUSE_MOVE),document.body.style.cursor=e.cursor,e.mouseJoint_move&&e.mouseJoint_move(n)},e.ll_mouseUp=function(t){o(t.offsetX)===i.UNDEFINED&&o(t.layerX)!==i.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_UP),e.IS_MOUSE_DOWN=!1,e.mouseJoint_end&&e.mouseJoint_end()},e.ll_mouseOut=function(t){o(t.offsetX)===i.UNDEFINED&&o(t.layerX)!==i.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_OUT),e.IS_MOUSE_DOWN=!1},e.touchHandler=function(t){return e.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()),e.preventDefault&&t.preventDefault(),t},e.mouseEvent=function(t,n){if(n===r.default.MOUSE_MOVE&&e.dragHandler(t),f.default.container[n])f.default.dispatchMouseEvent(t,n);else for(var o=e.childList.length-1;o>=0&&(!e.childList[o].mouseEvent||!e.childList[o].mouseEvent(t,n));o--);},e.dragHandler=function(t){var n=void 0,o=void 0,i=void 0,a=e.dragList;for(n=a.length-1;n>=0;n--)if(o=a[n],!e.canTouch||o.ll_touchPointID===t.touchPointID){i=o.parent.globalToLocal(new d.default(t.offsetX-o.ll_dragMX+o.ll_dragGlobalPoint.x,t.offsetY-o.ll_dragMY+o.ll_dragGlobalPoint.y)),o.x=i.x,o.y=i.y,o.dragRange&&(o.x<o.dragRange.left?o.x=o.dragRange.left:o.x>o.dragRange.right&&(o.x=o.dragRange.right),o.y<o.dragRange.top?o.y=o.dragRange.top:o.y>o.dragRange.bottom&&(o.y=o.dragRange.bottom));break}},e._ll_mobile=function(){var t=.3*e.width,n=1.5*t,o=.05*e.width,i=.05*t,a=.15*t,r=.3*t,l=.2*n,u="#cccccc",s="#000000",c="#ffffff",f="#ff0000",d=void 0,h=void 0,p=void 0,b=void 0,g=void 0;d=new y.default,(0,v.addChild)(d),n=1.5*(t=.3*e.width),d.graphics.drawRoundRect(1,s,[o,o,t,n,o],!0,u),d.graphics.drawRoundRect(1,s,[o+i,o+i,t-2*i,n-2*i,o],!0,s),d.graphics.drawRect(1,c,[o+a,o+l,t-2*a,n-2*l],!0,c),d.graphics.drawArc(1,c,[o+.5*t,o+n-3.5*i,1.5*i,0,2*Math.PI]),d.graphics.drawRoundRect(1,c,[o+r,o+a,t-2*r,i,.5*i]),(h=new y.default).x=.5*-(t-2*a),h.y=.5*-i,h.graphics.drawRect(1,f,[0,0,t-2*a,i],!0,f),(p=new y.default).y=.5*-(t-2*a),p.x=.5*-i,p.graphics.drawRect(1,f,[0,0,i,t-2*a],!0,f),(b=new y.default).x=o+r+.5*(t-2*r),b.y=o+l+.5*(n-2*l),b.rotate=45,b.addChild(h),b.addChild(p),d.addChild(b),(g=new y.default).graphics.drawVertices(2,s,[[0,0],[a,a],[0,2*a]],!0,u),g.x=1.5*o+n,g.y=1.5*o+.5*n,(0,v.addChild)(g),d.arrow=g;return window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)},d},e.verticalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),i=o.clone();i.getChildAt(0).visible=!1,i.x=.5*e.width+n,(0,v.addChild)(i),o.rotate=90,o.x=.5*e.width+n,o.y=.5*t},e.horizontalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),i=o.clone();i.getChildAt(0).visible=!1,i.rotate=90,i.x=e.width-n,i.y=.5*t,(0,v.addChild)(i),o.arrow.x=1.5*n+t},e.onShow=function(){e.canvas&&(e.enableWebGL&&(e.canvas.start2D(),e.canvas.globalAlpha=1),e._outStageCheckCount<=0&&(e._outStageCheckCount--,e._outStageCheckCount<-2&&(e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT)),e._outStageCheckCount=1)),e.fpsStatus&&e.fpsStatus.reset(),e.stage.onresizeEvent&&(e.stage.onresizeListener&&e.stage.onresizeListener(e.stage.onresizeEvent),e.stage.onorientationchangeListener&&e.stage.onorientationchangeListener({orientation:window.innerWidth>window.innerHeight?i.LANDSCAPE:i.PORTRAIT}),delete e.stage.onresizeEvent),e.forceRefresh&&(e.canvasObj.width=e.canvasObj.width,e.forceRefresh=!1),e.canvas.beginPath(),e.box2d?(e.box2d.ll_show(),!e.traceDebug&&e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1)):(e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1),e.backgroundColor&&(e.canvas.fillStyle=e.backgroundColor,e.canvas.fillRect(0,0,e.width,e.height))),e.show(e.childList,e.canvas),e.enableWebGL&&e.canvas.finish2D())},e.show=function(t,n){n=n||e.canvas;for(var o,i=0,a=t.length;i<a;i++)(o=t[i])&&o.ll_show&&(o.ll_show(n),o._ll_removeFromSelf&&(i--,a--))},e.divideCoordinate=function(e,t,n,o){var i=void 0,a=void 0,r=e/o,l=t/n,u=[],s=void 0;for(i=0;i<n;i++){for(s=[],a=0;a<o;a++)s.push({x:r*a,y:l*i,width:r,height:l});u.push(s)}return u},e._create_loading_color=function(){var t=e.canvas.createRadialGradient(e.width/2,e.height,0,e.width/2,0,e.height);return t.addColorStop(0,"red"),t.addColorStop(.3,"orange"),t.addColorStop(.4,"yellow"),t.addColorStop(.5,"green"),t.addColorStop(.8,"blue"),t.addColorStop(1,"violet"),t},e.hitPolygon=function(e,t,n){var o,i=0,a=e[0],r=t<=a[0],l=n<=a[1],u=void 0,s=void 0,c=void 0,f=void 0;for(u=1,o=e.length;u<o+1;u++)c=t<=(s=e[u%o])[0],l!==(f=n<=s[1])&&(r===c?r&&(i+=l?-1:1):t<=a[0]+(s[0]-a[0])*(n-a[1])/(s[1]-a[1])&&(i+=l?-1:1)),a=s,r=c,l=f;return 0!==i},e.hitTestPolygon=function(e,t){var n=void 0,o=void 0,i=void 0,a=void 0,r=void 0,l=[[e,[],[]],[t,[],[]]];for(o=0;o<l.length;o++){for(a=l[o][0],r=l[o][1],n=0,i=a.length;n<i;n++)l[o][2].push(new h.default(a[n][0],a[n][1])),n<i-1&&r.push(new h.default(a[n+1][0]-a[n][0],a[n+1][1]-a[n][1]).normL());r.push(new h.default(a[0][0]-a[i-1][0],a[0][1]-a[i-1][1]).normL())}for(o=0;o<l.length;o++)for(n=0,i=(r=l[o][1]).length;n<i;n++){var u=h.default.getMinMax(l[0][2],r[n]),s=h.default.getMinMax(l[1][2],r[n]);if(u.max_o<s.min_o||u.min_o>s.max_o)return!1}return!0},e.hitTestPolygonArc=function(t,n){if(e.hitPolygon(t,n[0],n[1]))return!0;var o,i=void 0,a=void 0,r=void 0,l=void 0,u=void 0,s=void 0,c=void 0,f=void 0,d=void 0;for(i=0,o=t.length;i<o;i++)if(a=i<o-1?i+1:0,r=t[i],l=t[a],u=new h.default(n[0]-r[0],n[1]-r[1]),d=(s=new h.default(l[0]-r[0],l[1]-r[1])).normalize(),(f=h.default.dot(u,d))<=0){if(u.x*u.x+u.y*u.y<n[3])return!0}else if(f*f<s.x*s.x+s.y*s.y&&(c=h.default.cross(u,d))*c<n[3])return!0;return!1},e.hitTestArc=function(e,t,n,a){var r=.5*e.getWidth(),l=.5*t.getWidth(),u=e._startX?e._startX():e.startX(),s=t._startX?t._startX():t.startX(),c=e._startY?e._startY():e.startY(),f=t._startY?t._startY():t.startY();(void 0===n?"undefined":o(n))!==i.UNDEFINED&&(u+=r-n,c+=r-n,r=n),(void 0===a?"undefined":o(a))!==i.UNDEFINED&&(s+=l-a,f+=l-a,l=a);var d=u+r-s-l,h=c+r-f-l;return d*d+h*h<(r+l)*(r+l)},e.hitTestRect=function(e,t,n,a){var r=e.getWidth(),l=t.getWidth(),u=e.getHeight(),s=t.getHeight(),c=e._startX?e._startX():e.startX(),f=t._startX?t._startX():t.startX(),d=e._startY?e._startY():e.startY(),h=t._startY?t._startY():t.startY();return(void 0===n?"undefined":o(n))!==i.UNDEFINED&&(c+=.5*(r-n[0]),d+=.5*(u-n[1]),r=n[0],u=n[1]),(void 0===a?"undefined":o(a))!==i.UNDEFINED&&(f+=.5*(l-a[0]),h+=.5*(s-a[1]),l=a[0],s=a[1]),(c>f?c:f)<=(c+r>f+l?f+l:c+r)&&(d>h?d:h)<=(d+u>h+s?h+s:d+u)},e.hitTest=e.hitTestRect,e.setFrameRate=function(t){e.frameRate&&clearInterval(e.frameRate),e.speed=t,e.frameRate=setInterval(function(){e.onShow()},t)},e.ll_scaleX=function(t){return(t-e.left)*e.width/e.canvasStyleWidth},e.ll_scaleY=function(t){return(t-e.top)*e.height/e.canvasStyleHeight},e.ll_setStageSize=function(t,n){t=Math.ceil(t),n=Math.ceil(n),e.canvasObj.style.width=t+"px",e.canvasObj.style.height=n+"px",e.canvasStyleWidth=t,e.canvasStyleHeight=n},e.resize=function(t,n){var o=void 0,i=void 0,a=0,r=0,l=window.innerWidth,u=window.innerHeight;switch(e.innerWidth=l,e.innerHeight=u,t&&(o=t),n&&(i=n),"noScale"===e.stageScale&&(o=t||e.width,i=n||e.height),e.stageScale){case"exactFit":o=t||l,i=n||u;break;case"noBorder":switch(o=t||l,i=n||e.height*l/e.width,e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:case p.default.BOTTOM_RIGHT:case p.default.BOTTOM_MIDDLE:a=u-i}break;case"showAll":l/u>e.width/e.height?(i=n||u,o=t||e.width*u/e.height):(o=t||l,i=n||e.height*l/e.width)}if("exactFit"!==e.stageScale&&"noBorder"!==e.stageScale)switch(e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:a=u-i;break;case p.default.RIGHT:case p.default.TOP_RIGHT:r=l-o;break;case p.default.TOP_MIDDLE:r=.5*(l-o);break;case p.default.BOTTOM_RIGHT:a=u-i,r=l-o;break;case p.default.BOTTOM_MIDDLE:a=u-i,r=.5*(l-o);break;case p.default.MIDDLE:a=.5*(u-i),r=.5*(l-o);break;case p.default.TOP:case p.default.LEFT:case p.default.TOP_LEFT:}e.canvasObj.style.marginTop=a+"px",e.canvasObj.style.marginLeft=r+"px",e.isOldFirefox&&(e.left=parseInt(e.canvasObj.style.marginLeft),e.top=parseInt(e.canvasObj.style.marginTop)),e.ll_setStageSize(o,i)},e.sleep=function(e){for(var t=new Date;(new Date).getTime()-t.getTime()<e;);},e.screen=function(t){e.displayState=t,e.stage&&("number"==typeof e.displayState?e.resize(e.width*e.displayState,e.height*e.displayState):e.resize())},e.mouseJoint_start=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&!e.box2d.mouseJoint&&!e.box2d.stop){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale,i=e.box2d.getBodyAtMouse(n,o);if(i&&i.mouseJoint){var a=new e.box2d.b2MouseJointDef;a.bodyA=e.box2d.world.GetGroundBody(),a.bodyB=i,a.target.Set(n,o),a.collideConnected=!0,a.maxForce=3e5*i.GetMass(),e.box2d.mouseJoint=e.box2d.world.CreateJoint(a),i.SetAwake(!0)}}},e.mouseJoint_move=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&e.box2d.mouseJoint){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale;e.box2d.mouseJoint.SetTarget(new e.box2d.b2Vec2(n,o))}},e.mouseJoint_end=function(){e.box2d&&e.box2d.mouseJoint&&(e.box2d.world.DestroyJoint(e.box2d.mouseJoint),e.box2d.mouseJoint=null)},e}();b.default.LGlobal=_,window.LGlobal=_,t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return o(e,[{key:"toString",value:function(){return"[object LPoint("+this.x+","+this.y+")]"}},{key:"length",value:function(){return e.distance2(this.x,this.y,0,0)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"setTo",value:function(e,t){this.x=e,this.y=t}},{key:"copyFrom",value:function(e){this.setTo(e.x,e.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"normalize",value:function(e){var t=this,n=e/t.length();t.x*=n,t.y*=n}},{key:"offset",value:function(e,t){this.x+=e,this.y+=t}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}}]),e}();i.distance=function(e,t){return i.distance2(e.x,e.y,t.x,t.y)},i.distance2=function(e,t,n,o){var i=e-n,a=t-o;return Math.sqrt(i*i+a*a)},i.interpolate=function(e,t,n){return new i(e.x+(t.x-e.x)*(1-n),e.y+(t.y-e.y)*(1-n))},i.polar=function(e,t){return new i(e*Math.cos(t),e*Math.sin(t))},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LObject",this.objectIndex=++e.objectIndex,this.objectindex=this.objectIndex}return o(e,[{key:"copyProperty",value:function(e){for(var t in e)if("number"==typeof e[t]||"string"==typeof e[t]||"boolean"==typeof e[t]){if("objectindex"===t||"objectIndex"===t)continue;this[t]=e[t]}else Array.isArray(e[t])&&(this[t]=e[t].slice());e.mask&&(this.mask=e.mask.clone())}},{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}]),e}();i.objectIndex=1,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(16),a=d(n(15)),r=d(n(37)),l=d(n(36)),u=d(n(23)),s=d(n(12)),c=d(n(7)),f=d(n(61));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentScene=null,this._currentPanel=null,this._panelList=[],this._dialogList=[]}return o(e,[{key:"showDialog",value:function(e,t){var n=this;return console.log("showDialog",e,t),this.loadPrefab(e).then(function(e){var t=a.default.create(e);n._currentPanel.addChild(t)})}},{key:"loadPanel",value:function(e,t,n){var o=this;return n=n||"fade",this.loadPrefab(e).then(function(e){e.request=t;var i=a.default.create(e),r=o._currentPanel||null;r||(n="fade"),o._currentPanel=i;var l=o._currentScene.childList.find(function(e){return"panel"===e.name});l?l.addChild(i):o._currentScene.addChildAt(i,0),i instanceof a.default&&i.lateInit(),i.onLoadEnd&&i.onLoadEnd(t),f.default.changePanel(r,o._currentPanel,n)})}},{key:"loadScene",value:function(e,t){var n=this;return this.loadPrefab(e).then(function(e){e.request=t;var o=a.default.create(e),r=n._currentScene||null;n._currentScene=o,(0,i.addChild)(o),o instanceof a.default&&o.lateInit(),o.onLoadEnd&&o.onLoadEnd(t),r&&(o.alpha=0,s.default.to(r,.3,{alpha:0,onComplete:function(e){e.target.remove()}}),s.default.to(o,.3,{alpha:1}))})}},{key:"loadPrefab",value:function(e,t){var n=this,o=void 0;e="resources/"+e+".prefab",c.default.traceDebug&&(e+="?t="+Date.now());var i=e+".meta";return new Promise(function(t,n){r.default.load([{name:"prefab",path:e,type:l.default.TYPE_TEXT},{name:"meta",path:i,type:l.default.TYPE_TEXT}],null,function(e){t(e)})}).then(function(e){o=JSON.parse(e.prefab);var t=JSON.parse(e.meta);return n.loadResources(t)}).then(function(){return Promise.resolve(o)})}},{key:"loadResources",value:function(e){var t=[];if(e.atlas){var n=!0,o=!1,i=void 0;try{for(var a,l=e.atlas[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;t.push({name:s.name,path:"resources/"+s.path,type:u.default.TYPE_PLIST})}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}return new Promise(function(e,n){r.default.load(t,null,function(t){e(t)})})}},{key:"currentScene",get:function(){return this._currentScene}}]),e}();t.default=new h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(57)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"lateInit",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"lateInit",this).call(this),this.updateView()}},{key:"updateView",value:function(e){this.model=e}}]),t}();a.default.set("BaseBindView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(9)),r=n(0),l=c(n(18)),u=c(n(8)),s=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n,o){f(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.type="LTweenLiteChild",i.toNew=[],i.init(e,n,o),i}return h(t,a.default),i(t,[{key:"init",value:function(e,t,n){var i=this,a=null;for(a in o(n.tweenTimeline)===r.UNDEFINED&&(n.tweenTimeline=v.TYPE_FRAME),i.target=e,i.target.objectIndex||(i.target.objectIndex=++s.default.LGlobal.objectIndex),i.duration=t||.001,i.vars=n,i.delay=i.vars.delay||0,i.vars.tweenTimeline===v.TYPE_TIMER?(i.currentTime=(new Date).getTime()/1e3,i.initTime=i.currentTime,i.startTime=i.initTime+i.delay):(i.currentTime=0,i.duration*=1e3,i.currentTime-=1e3*i.delay),i.combinedTimeScale=i.vars.timeScale||1,i.active=0===i.duration&&0===i.delay,i.varsto={},i.varsfrom={},i.varsDiff={},i.varsListIndex={},i.varsListCurr={},i.varsListTo={},i.varsListLength={},i.stop=!1,"function"!=typeof i.vars.ease&&(i.vars.ease=l.default.None.easeIn),i.ease=i.vars.ease,delete i.vars.ease,"function"==typeof i.vars.onComplete?(i.onComplete=i.vars.onComplete,delete i.vars.onComplete):i.onComplete=null,"function"==typeof i.vars.onUpdate?(i.onUpdate=i.vars.onUpdate,delete i.vars.onUpdate):i.onUpdate=null,"function"==typeof i.vars.onStart?(i.onStart=i.vars.onStart,delete i.vars.onStart):i.onStart=null,i.vars)if("coordinate"===a&&Array.isArray(i.vars[a])){for(var c=0,f={x:i.target.x,y:i.target.y},d=0,h=i.vars[a].length;d<h;d++){var p=i.vars[a][d];c+=u.default.distance(p,f),f=p}i.varsListIndex[a]=0,i.varsListCurr[a]=0,i.varsListTo[a]=c,i.varsto[a]=i.vars[a],i.varsfrom[a]={x:i.target.x,y:i.target.y}}else"number"==typeof i.vars[a]&&(i.varsto[a]=i.vars[a],i.varsfrom[a]=i.target[a],i.varsDiff[a]=i.vars[a]-i.target[a])}},{key:"pause",value:function(){this.stop=!0}},{key:"resume",value:function(){this.stop=!1}},{key:"tween",value:function(){var e=this,t=void 0,n=void 0,i=e.vars.tweenTimeline===v.TYPE_TIMER;if(i){if((n=(new Date).getTime()/1e3-e.startTime)<0)return}else{if(e.stop)return;if(e.currentTime+=s.default.LGlobal.speed,e.currentTime<0)return}for(var a in e.varsto)if(o(e.varsListTo[a])===r.UNDEFINED)e.target[a]=e.ease(i?n:e.currentTime,e.varsfrom[a],e.varsDiff[a],e.duration);else{var l=e.ease(i?n:e.currentTime,0,e.varsListTo[a],e.duration);l>e.varsListTo[a]&&(l=e.varsListTo[a]);for(var c=e.varsListIndex[a]>0?e.vars[a][e.varsListIndex[a]-1]:e.varsfrom[a],f=e.vars[a][e.varsListIndex[a]],d=u.default.distance(c,f);e.varsListCurr[a]+d<l;)e.varsListCurr[a]+=d,c=f,e.varsListIndex[a]++,f=e.vars[a][e.varsListIndex[a]],d=u.default.distance(c,f);e.target.x=c.x,e.target.y=c.y,0!==d&&f.x-c.x!=0&&(e.target.x+=(f.x-c.x)*(l-e.varsListCurr[a])/d),0!==d&&f.y-c.y!=0&&(e.target.y+=(f.y-c.y)*(l-e.varsListCurr[a])/d)}e.onStart&&(e._dispatchEvent(e.onStart),delete e.onStart);if(i?n>=e.duration:e.currentTime>=e.duration){for(t in e.varsto)if(o(e.varsListTo[t])===r.UNDEFINED)e.target[t]=e.varsto[t];else{var h=e.varsto[t][e.vars[t].length-1];e.target.x=h.x,e.target.y=h.y}return e.onComplete&&e._dispatchEvent(e.onComplete,!0),!0}return e.onUpdate&&e._dispatchEvent(e.onUpdate),!1}},{key:"_dispatchEvent",value:function(e,t){var n=this,o={},i=function(){o.target=n.target,o.currentTarget=n,e(o)};t?setTimeout(function(){i()},1):i()}},{key:"to",value:function(e,t,n,o){return this.toNew.push({target:e,duration:t,vars:n,data:o}),this}},{key:"keep",value:function(){var e=this,t=void 0,n=void 0,i=void 0,a=void 0;if(e.toNew.length>0){if((t=e.toNew.shift()).vars.loop&&(e.loop=!0),e.loop){for(i in a={},n={},t.vars)n[i]=t.vars[i],o(t.target[i])!==r.UNDEFINED&&t.vars.playStyle===v.PlayStyle.Init&&(t.data?t.target[i]=t.data[i]:a[i]=t.target[i]);t.data||(t.data=a),e.to(t.target,t.duration,n,t.data)}return e.init(t.target,t.duration,t.vars),!0}return!1}}]),t}(),v=function(e){function t(){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LTweenLite",e.tweens=[],e}return h(t,a.default),i(t,[{key:"count",value:function(){return this.tweens.length}},{key:"ll_show",value:function(){var e=this,t=void 0,n=e.tweens.length,o=void 0;for(t=0;t<n;t++)(o=e.tweens[t])&&o.tween&&o.tween()&&(e.tweens.splice(t,1),t--,n=e.tweens.length,o.keep()&&e.add(o))}},{key:"to",value:function(e,t,n){if(e){var o=new p({},0,{});return this.tweens.push(o),o.to(e,t,n),o}}},{key:"add",value:function(e){this.tweens.push(e)}},{key:"remove",value:function(e){var t=this;if((void 0===e?"undefined":o(e))!==r.UNDEFINED)for(var n=0,i=t.tweens.length;n<i;n++)if(e.objectIndex===t.tweens[n].objectIndex){t.tweens.splice(n,1);break}}},{key:"removeTarget",value:function(e){for(var t=this,n=0,o=t.tweens.length;n<o;n++)if(e.objectIndex===t.tweens[n].target.objectIndex){t.tweens.splice(n,1);break}}},{key:"removeAll",value:function(){this.tweens.splice(0,this.tweens.length)}},{key:"pauseAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].pause()}},{key:"resumeAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].resume()}}]),t}();v.PlayStyle={None:"none",Init:"init"},v.TYPE_FRAME="type_frame",v.TYPE_TIMER="type_timer",s.default.LTweenLiteTimeline=new v,s.default.LGlobal.childList.push(s.default.LTweenLiteTimeline);var y=new v;y.TYPE_FRAME=v.TYPE_FRAME,y.TYPE_TIMER=v.TYPE_TIMER,y.PlayStyle=v.PlayStyle,s.default.LGlobal.childList.push(y),s.default.LTweenLite=y,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(21)),a=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="LBitmap",n.rotateCenter=!0,n.bitmapData=e,n.bitmapData&&(n.width=n.bitmapData.width,n.height=n.bitmapData.height),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"_canShow",value:function(){return this.visible&&this.bitmapData}},{key:"_rotateReady",value:function(){var e=this;0!==e.rotate&&e.rotateCenter?(e.rotatex=.5*e.getWidth(),e.rotatey=.5*e.getHeight()):e.rotatex=e.rotatey=0}},{key:"_coordinate",value:function(e){}},{key:"_ll_show",value:function(e){this.ll_draw(e)}},{key:"ll_draw",value:function(e){var t=this;a.default.LGlobal.fpsStatus&&a.default.LGlobal.fpsStatus.bitmapData++,e.drawImage(t.bitmapData.image,t.bitmapData.x,t.bitmapData.y,t.bitmapData.width,t.bitmapData.height,t.x,t.y,t.bitmapData.width,t.bitmapData.height)}},{key:"clone",value:function(){var e=this,n=new t(e.bitmapData.clone());return n.copyProperty(e),n.rotateCenter=e.rotateCenter,n}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!(!n.visible||!n.bitmapData)&&(!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&n.ismouseonShapes([{type:a.default.LShape.RECT,arg:[0,0,n.bitmapData.width,n.bitmapData.height]}],e.offsetX,e.offsetY)))}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,i=void 0;return t=n.bitmapData?n.bitmapData.width*(n.scaleX>0?n.scaleX:-n.scaleX):0,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(i=n.mask.getWidth())>t?t-o:i:t}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,i=void 0;return t=n.bitmapData?n.bitmapData.height*(n.scaleY>0?n.scaleY:-n.scaleY):0,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(i=n.mask.getHeight())>t?t-o:i:t}},{key:"startX",value:function(){return this.x}},{key:"startY",value:function(){return this.y}},{key:"die",value:function(){}}]),t}();a.default.LBitmap=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(9)),r=n(0),l=s(n(20)),u=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,i,a,l,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.type="LBitmapData",(void 0===u?"undefined":o(u))===r.UNDEFINED&&(u=t.DATA_IMAGE),s.oncomplete=null,s._locked=!1,s._setPixel=!1,s.x=n||0,s.y=i||0,s.width=0,s.height=0,s.dataType=null,e&&"object"===(void 0===e?"undefined":o(e)))s.image=e,s.dataType=t.DATA_IMAGE,s.width=a||s.image.width,s.height=l||s.image.height,s._setDataType(u);else{if(s._createCanvas(),s.dataType=t.DATA_CANVAS,s._canvas.width=s.width=a||1,s._canvas.height=s.height=l||1,"string"==typeof e)s._context.fillStyle=e,s._context.fillRect(0,0,s.width,s.height);else if("number"==typeof e){for(var c=s._context.createImageData(s.width,s.height),f=0;f<c.data.length;f+=4)c.data[f+0]=e>>16&255,c.data[f+1]=e>>8&255,c.data[f+2]=255&e,c.data[f+3]=255;s._context.putImageData(c,0,0)}s.image=s._canvas,u===t.DATA_IMAGE&&s._setDataType(u)}return s.resize(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"_setDataType",value:function(e){var n=this;n.dataType!==e&&(e===t.DATA_CANVAS?(n._createCanvas(),n._canvas.width=n.image.width,n._canvas.height=n.image.height,n._context.clearRect(0,0,n._canvas.width,n._canvas.height),n._context.drawImage(n.image,0,0),n.image=n._canvas):e===t.DATA_IMAGE&&(n.image=new Image,n.image.width=n._canvas.width,n.image.height=n._canvas.height,n.image.src=n._canvas.toDataURL()),n.dataType=e)}},{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"clear",value:function(e){var n=this;n._createCanvas(),e?n._context.clearRect(e.x,e.y,e.width,e.height):n._canvas.width=n.image.width,n.dataType===t.DATA_IMAGE&&(n.image.src=n._canvas.toDataURL())}},{key:"setProperties",value:function(e,t,n,o){var i=this;i.x=e,i.y=t,i.width=n,i.height=o,i.resize()}},{key:"setCoordinate",value:function(e,t){var n=this;n.x=e,n.y=t,n.resize()}},{key:"clone",value:function(){var e=this;return new t(e.image,e.x,e.y,e.width,e.height,e.dataType)}},{key:"_ready",value:function(){var e=this;e._dataType=e.dataType,e._setDataType(t.DATA_CANVAS),e._data=e._context.getImageData(e.x,e.y,e.width,e.height)}},{key:"_update",value:function(){var e=this;e._context.putImageData(e._data,e.x,e.y,0,0,e.width,e.height),e._setDataType(e._dataType),e._data=null}},{key:"applyFilter",value:function(e,t,n,o,i){var a=this,r=a._context.getImageData(a.x+t.x,a.y+t.y,t.width,t.height),u=o.filter(r,t.width,i);a.putPixels(new l.default(n.x,n.y,t.width,t.height),u)}},{key:"getPixel",value:function(e,t,n){var o,i,a=this;return e>>=0,t>>=0,a._locked||a._ready(),o=4*a.width*t+4*e,i=a._data.data,a._locked||a._update(),"number"===n?i[o]<<16|i[o+1]<<8|i[o+2]:[i[o],i[o+1],i[o+2],i[o+3]]}},{key:"setPixel",value:function(e,t,n){var i=this;e>>=0,t>>=0,i._locked||i._ready();var a=i._data,r=4*i.width*t+4*e;"object"===(void 0===n?"undefined":o(n))?(a.data[r+0]=n[0],a.data[r+1]=n[1],a.data[r+2]=n[2],a.data[r+3]=n[3]):("string"==typeof n&&(n=parseInt(n.replace("#","0x"))),a.data[r+0]=n>>16&255,a.data[r+1]=n>>8&255,a.data[r+2]=255&n,a.data[r+3]=255),i._locked||i._update()}},{key:"getPixels",value:function(e){var t,n=this;return n._locked||n._ready(),t=n._context.getImageData(n.x+e.x,n.y+e.y,e.width,e.height),n._locked||n._update(),t}},{key:"setPixels",value:function(e,t){var n=this,i=void 0,a=void 0,r=void 0,l=void 0,u=void 0,s=void 0;if(n._locked||n._ready(),r=n._data,"object"===(void 0===t?"undefined":o(t)))for(l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)i=4*l*(n.y+s)+4*(n.x+u),a=4*t.width*(s-e.y)+4*(u-e.x),r.data[i+0]=t.data[a+0],r.data[i+1]=t.data[a+1],r.data[i+2]=t.data[a+2],r.data[i+3]=t.data[a+3];else for("string"==typeof t&&(t=parseInt(t.replace("#","0x"))),t=[t>>16&255,t>>8&255,255&t],l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)i=4*l*(n.y+s)+4*(n.x+u),r.data[i+0]=t[0],r.data[i+1]=t[1],r.data[i+2]=t[2],r.data[i+3]=255;n._locked||n._update()}},{key:"putPixels",value:function(e,n){var i=this;i.dataType===t.DATA_CANVAS&&"object"===(void 0===n?"undefined":o(n))&&i._context.putImageData(n,i.x+e.x,i.y+e.y,0,0,e.width,e.height)}},{key:"lock",value:function(){this._locked=!0,this._ready()}},{key:"unlock",value:function(){this._locked=!1,this._update()}},{key:"draw",value:function(e,n,o,i,a){var r,u,s=this,c=void 0,f=e,d=void 0,h=void 0,p=!1,v=s.dataType;s._setDataType(t.DATA_CANVAS),(n||o||i||a)&&(s._context.save(),p=!0),a&&(f instanceof t?(d=f.x,h=f.y):d=h=0,f=new t(f.getDataCanvas(),d+a.x,h+a.y,a.width,a.height,t.DATA_CANVAS)),r=f.getWidth()>>>0,u=f.getHeight()>>>0,0!==r&&0!==u?(c=f.getDataCanvas(),o&&(f.colorTransform(new l.default(0,0,r,u),o),c=f.image),n&&s._context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),i&&(s._context.globalCompositeOperation=i),s._context.drawImage(c,f.x,f.y,r,u,0,0,r,u),p&&s._context.restore(),s._setDataType(v),s.resize()):s._setDataType(v)}},{key:"getDataCanvas",value:function(){var e=this,n=e.dataType;return e._setDataType(t.DATA_CANVAS),e._setDataType(n),e._canvas}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"resize",value:function(){var e=this,t=e.image.width-e.x,n=e.image.height-e.y;e.width=e.width<t?e.width:t,e.height=e.height<n?e.height:n}},{key:"colorTransform",value:function(e,n){var o=this;if(o.dataType===t.DATA_CANVAS){for(var i=o._context.getImageData(o.x+e.x,o.y+e.y,e.width,e.height),a=i.data,r=0,l=a.length;r<l;r+=4){var u=r,s=r+1,c=r+2,f=r+3;a[u]=a[u]*n.redMultiplier+n.redOffset,a[s]=a[s]*n.greenMultiplier+n.greenOffset,a[c]=a[c]*n.blueMultiplier+n.blueOffset,a[f]=a[f]*n.alphaMultiplier+n.alphaOffset}o._context.putImageData(i,o.x+e.x,o.y+e.y,0,0,e.width,e.height)}}},{key:"copyPixels",value:function(e,n,o){var i,a,r,l,u=e;this.dataType===t.DATA_CANVAS&&(i=u.x,a=u.y,r=u.width,l=u.height,u.setProperties(n.x+u.x,n.y+u.y,n.width,n.height),this._context.drawImage(u.image,u.x,u.y,u.width,u.height,o.x,o.y,u.width,u.height),u.x=i,u.y=a,u.width=r,u.height=l)}}]),t}();c.DATA_IMAGE="data_image",c.DATA_CANVAS="data_canvas",u.default.LBitmapData=c,t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(5)),r=f(n(21)),l=f(n(2)),u=f(n(8)),s=f(n(1)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="LNode",e&&(n._initDataProperty(e),n.init(e),n._initDataChildNodes(e)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"_initDataProperty",value:function(e){var t=e.property;if(t)for(var n in t){var o=t[n];"width"===n?n="_widgetWidth":"height"===n&&(n="_widgetHeight"),this[n]=o}}},{key:"_initDataChildNodes",value:function(e){if(e.childNodes){var n=!0,o=!1,i=void 0;try{for(var a,l=e.childNodes[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value,s=t.create(u);s instanceof r.default&&this.addChild(s),s instanceof t&&s.lateInit()}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}}},{key:"init",value:function(e){}},{key:"lateInit",value:function(){}},{key:"widgetInit",value:function(){var e,t=this._getWidgetTarget(this.widget.target),n=void 0,i=void 0,a=void 0,r=void 0;t?(n=t.widgetWidth||t.getWidth(),i=t.widgetHeight||t.getHeight()):(n=s.default.LGlobal.width,i=s.default.LGlobal.height);var l="number"==typeof(e=this.widget).top&&"number"==typeof e.bottom,f="number"==typeof e.left&&"number"==typeof e.right;l?(r=i-e.top-e.bottom,this._widgetHeight=r):r=this.widgetHeight,f?(a=n-e.left-e.right,this._widgetWidth=a):a=this.widgetWidth,(l||f)&&"function"==typeof this.resize&&this.resize(this.widgetWidth,this.widgetHeight);var d=void 0,h=void 0;"number"==typeof e.left?d=e.left:"number"==typeof e.right&&(d=n-a-e.right),"number"==typeof e.top?h=e.top:"number"==typeof e.bottom&&(h=i-r-e.bottom);var p=new u.default((void 0===d?"undefined":o(d))===c.UNDEFINED?0:d,(void 0===h?"undefined":o(h))===c.UNDEFINED?0:h),v=t?t.localToGlobal(p):p,y=this.parent.globalToLocal(v);this.x=(void 0===d?"undefined":o(d))===c.UNDEFINED?this.x:y.x,this.y=(void 0===h?"undefined":o(h))===c.UNDEFINED?this.y:y.y}},{key:"_getWidgetTarget",value:function(e){if(!e)return null;for(var n=this.parent;n;){if(e){if(n._ll_className===e)return n}else if(n instanceof t)return n;if("object"!==(void 0===(n=n.parent)?"undefined":o(n)))break}return null}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.sprite&&this.sprite.width?this.sprite.width:this.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.sprite&&this.sprite.height?this.sprite.height:this.getHeight()}}]),t}();d.create=function(e){var t=e.class,n=void 0,o=l.default.get(t);return o?n=new o(e):console.error("class not found : ",t),n},l.default.set("LNode",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LInit=void 0,t.trace=l,t.addChild=function(e){o.default.LGlobal.stage.addChild(e)},t.removeChild=function(e){o.default.LGlobal.stage.removeChild(e)},t.init=u,t.getTimer=function(){return(new Date).getTime()-o.default.LGlobal.startTimer},t.getExtension=function(e){var t=void 0;if((t=e.match(/([^#?]+\.)([^.#?]+)/)).length>=3)return t[2].toLowerCase();return null};var o=r(n(1)),i=r(n(3)),a=n(0);function r(e){return e&&e.__esModule?e:{default:e}}function l(){if(o.default.LGlobal.traceDebug){var e=document.getElementById("traceObject"),t=void 0;if(l.arguments.length>0&&!e){var n=document.createElement("DIV");n.position=0,n.style.position="absolute",document.body.appendChild(n),(e=document.createElement("TEXTAREA")).id="traceObject",e.style.width=.5*window.innerWidth+"px",e.style.height="200px";var a=document.createElement("BUTTON");a.style.width=.25*window.innerWidth+"px",a.innerHTML="Hide",n.appendChild(a),i.default.addEventListener(a,o.default.LGlobal.mobile?"touchstart":"click",function(t){e.style.display="none"===e.style.display?"":"none"}),(a=document.createElement("BUTTON")).style.width=.25*window.innerWidth+"px",a.innerHTML="position",n.appendChild(a);var r=function(t){n.position++,0===n.position?(n.style.top="5px",n.style.left="5px"):1===n.position?(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left="5px"):2===n.position?(n.style.top="5px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px"):(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px",n.position=-1)};r(),i.default.addEventListener(a,o.default.LGlobal.mobile?"touchstart":"click",r),n.appendChild(document.createElement("BR")),n.appendChild(e)}for(t=0;t<l.arguments.length;t++)e.value=e.value+l.arguments[t]+"\r\n",e.scrollTop=e.scrollHeight}}function u(e,t,n,r,l,u){o.default.LGlobal.speed=e;var s=function(){o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===a.LANDSCAPE&&window.innerWidth<window.innerHeight?o.default.LGlobal.horizontalError():o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===a.PORTRAIT&&window.innerWidth>window.innerHeight?o.default.LGlobal.verticalError():setTimeout(l,100),o.default.LGlobal.startTimer=(new Date).getTime()},c=void 0;if("function"==typeof e)c=function(){e(c),o.default.LGlobal.onShow()},o.default.LGlobal.speed=1e3/60;else{var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),c=function(){((new Date).getTime()-o.default.LGlobal._requestAFBaseTime)/e>=1&&(o.default.LGlobal._requestAFBaseTime+=e,o.default.LGlobal.onShow()),f(c,e)}}"complete"===document.readyState?(o.default.LGlobal.setCanvas(t,n,r),s(),c()):i.default.addEventListener(window,"load",function(){o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),o.default.LGlobal.setCanvas(t,n,r),s(),c()})}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),window.console||(window.console={log:l,warn:l});t.LInit=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(22),a=(o=i)&&o.__esModule?o:{default:o};var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a={None:{easeIn:function(e,t,n,o){return t+e*n/o},easeOut:function(e,t,n,o){return t+e*n/o},easeInOut:function(e,t,n,o){return t+e*n/o}},Quad:{easeIn:function(e,t,n,o){return n*(e/=o)*e+t},easeOut:function(e,t,n,o){return-n*(e/=o)*(e-2)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e+t},easeOut:function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},easeOut:function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},easeInOut:function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t}},Strong:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Expo:{easeIn:function(e,t,n,o){return 0===e?t:n*Math.pow(2,10*(e/o-1))+t},easeOut:function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},easeInOut:function(e,t,n,o){return 0===e?t:e===o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},Circ:{easeIn:function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOut:function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,o,i,a){var r=void 0;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),!i||i<Math.abs(n)?(i=n,r=a/4):r=a/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/a)+t)},easeOut:function(e,t,n,o,i,a){var r=void 0;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),!i||i<Math.abs(n)?(i=n,r=a/4):r=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*o-r)*(2*Math.PI)/a)+n+t)},easeInOut:function(e,t,n,o,i,a){var r=void 0;return 0===e?t:2==(e/=o/2)?t+n:(a||(a=o*(.3*1.5)),!i||i<Math.abs(n)?(i=n,r=a/4):r=a/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/a)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/a)*.5+n+t)}},Back:{easeIn:function(e,t,n,a,r){return(void 0===r?"undefined":o(r))===i.UNDEFINED&&(r=1.70158),n*(e/=a)*e*((r+1)*e-r)+t},easeOut:function(e,t,n,a,r){return(void 0===r?"undefined":o(r))===i.UNDEFINED&&(r=1.70158),n*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOut:function(e,t,n,a,r){return(void 0===r?"undefined":o(r))===i.UNDEFINED&&(r=1.70158),(e/=a/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}},Bounce:{easeIn:function(e,t,n,o){return n-a.Bounce.easeOut(o-e,0,n,o)+t},easeOut:function(e,t,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,o){return e<o/2?.5*a.Bounce.easeIn(2*e,0,n,o)+t:.5*a.Bounce.easeOut(2*e-o,0,n,o)+.5*n+t}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=(o=r)&&o.__esModule?o:{default:o},u=n(0);var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatchAllEvent=!1,this.container={},this.mouseDownContainer=[],this.mouseUpContainer=[],this.mouseMoveContainer=[],this.mouseOverContainer=[],this.mouseOutContainer=[],this.mouseDblContainer=[],this.textFieldInputContainer=[],this.buttonContainer=[]}return a(e,[{key:"pushInputBox",value:function(e){for(var t=this.textFieldInputContainer,n=0,o=t.length;n<o;n++)if(e.objectIndex===t[n].objectIndex)return;this.textFieldInputContainer.push(e)}},{key:"removeInputBox",value:function(e){var t,n=this.textFieldInputContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.textFieldInputContainer.splice(o,1);break}}},{key:"pushButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex)return;this.buttonContainer.push(e)}},{key:"removeButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.buttonContainer.splice(o,1);break}}},{key:"dispatchEventButton",value:function(e){var t,n=this,o=void 0;for(o=0,t=n.buttonContainer.length;o<t;o++)"function"==typeof n.buttonContainer[o].ll_button_mode&&n.buttonContainer[o].ll_button_mode(e)}},{key:"addEvent",value:function(e,t,n){t.push({container:e,listener:n})}},{key:"removeEvent",value:function(e,t,n){var o,i=void 0;for(i=0,o=t.length;i<o;i++)if(t[i].container.objectIndex===e.objectIndex&&(!n||t[i].listener===n)){t.splice(i,1);break}}},{key:"addMouseDownEvent",value:function(e,t){this.addEvent(e,this.mouseDownContainer,t)}},{key:"addMouseUpEvent",value:function(e,t){this.addEvent(e,this.mouseUpContainer,t)}},{key:"addMouseMoveEvent",value:function(e,t){this.addEvent(e,this.mouseMoveContainer,t)}},{key:"addMouseOverEvent",value:function(e,t){this.addEvent(e,this.mouseOverContainer,t)}},{key:"addMouseOutEvent",value:function(e,t){this.addEvent(e,this.mouseOutContainer,t)}},{key:"addMouseDblEvent",value:function(e,t){this.addEvent(e,this.mouseDblContainer,t)}},{key:"addMouseEvent",value:function(e,t,n){var o=this;t===l.default.MOUSE_DOWN?o.addMouseDownEvent(e,n):t===l.default.MOUSE_UP?o.addMouseUpEvent(e,n):t===l.default.MOUSE_OVER?o.addMouseOverEvent(e,n):t===l.default.MOUSE_OUT?o.addMouseOutEvent(e,n):t===l.default.MOUSE_MOVE?o.addMouseMoveEvent(e,n):o.addMouseDblEvent(e,n)}},{key:"hasEventListener",value:function(e,t,n){for(var o=this,i=void 0,a=0,r=(i=t===l.default.MOUSE_DOWN?o.mouseDownContainer:t===l.default.MOUSE_UP?o.mouseUpContainer:t===l.default.MOUSE_OVER?o.mouseOverContainer:t===l.default.MOUSE_OUT?o.mouseOutContainer:t===l.default.MOUSE_MOVE?o.mouseMoveContainer:o.mouseDblContainer).length;a<r;a++)if(i[a].container.objectIndex===e.objectIndex&&(!n||i[a].listener===n))return!0;return!1}},{key:"removeMouseDownEvent",value:function(e,t){this.removeEvent(e,this.mouseDownContainer,t)}},{key:"removeMouseUpEvent",value:function(e,t){this.removeEvent(e,this.mouseUpContainer,t)}},{key:"removeMouseMoveEvent",value:function(e,t){this.removeEvent(e,this.mouseMoveContainer,t)}},{key:"removeMouseOverEvent",value:function(e,t){this.removeEvent(e,this.mouseOverContainer,t)}},{key:"removeMouseOutEvent",value:function(e,t){this.removeEvent(e,this.mouseOutContainer,t)}},{key:"removeMouseDblEvent",value:function(e,t){this.removeEvent(e,this.mouseDblContainer,t)}},{key:"removeMouseEvent",value:function(e,t,n){var o=this;t===l.default.MOUSE_DOWN?o.removeMouseDownEvent(e,n):t===l.default.MOUSE_UP?o.removeMouseUpEvent(e,n):t===l.default.MOUSE_OVER?o.removeMouseOverEvent(e,n):t===l.default.MOUSE_OUT?o.removeMouseOutEvent(e,n):t===l.default.MOUSE_MOVE?o.removeMouseMoveEvent(e,n):o.removeMouseDblEvent(e,n)}},{key:"dispatchMouseEvent",value:function(e,t){var n=this;t===l.default.MOUSE_DOWN?(n.dispatchEvent(e,n.mouseDownContainer,l.default.MOUSE_DOWN),n.dispatchEvent(e,n.textFieldInputContainer)):t===l.default.MOUSE_UP?n.dispatchEvent(e,n.mouseUpContainer,l.default.MOUSE_UP):t===l.default.DOUBLE_CLICK?n.dispatchEvent(e,n.mouseDblContainer,l.default.DOUBLE_CLICK):(n.dispatchEventButton(e),n.dispatchEvent(e,n.mouseOutContainer,l.default.MOUSE_OUT),n.dispatchEvent(e,n.mouseOverContainer,l.default.MOUSE_OVER),n.dispatchEvent(e,n.mouseMoveContainer,l.default.MOUSE_MOVE))}},{key:"getRootParams",value:function(e){for(var t=e.parent,n={x:0,y:0,scaleX:1,scaleY:1};t&&"root"!==t;)n.x*=t.scaleX,n.y*=t.scaleY,n.x+=t.x,n.y+=t.y,n.scaleX*=t.scaleX,n.scaleY*=t.scaleY,t=t.parent;return n}},{key:"_mouseEnabled",value:function(e){if(!e||!e.parent)return!1;if(!e.visible||i(e.mouseEnabled)!==u.UNDEFINED&&!e.mouseEnabled)return!1;for(var t=e.parent;t&&"root"!==t;){if(!t.mouseEnabled||!t.mouseChildren||!t.visible)return!1;if(!(t=t.parent))return!1}return!0}},{key:"_dispatchEvent",value:function(e,t,n,o,i,a){var r=void 0,l=void 0,u=n.length;for(r=i;r<=a&&r<u;r++)(l=n[r]).sp.objectIndex===o&&(e.currentTarget=e.clickTarget=l.sp,e.target||(e.target=l.sp),e.event_type=t,e.selfX=(e.offsetX-l.co.x-l.sp.x)/(l.co.scaleX*l.sp.scaleX),e.selfY=(e.offsetY-l.co.y-l.sp.y)/(l.co.scaleY*l.sp.scaleY),l.listener(e,l.sp))}},{key:"dispatchEvent",value:function(e,t,n){var o=void 0,i=void 0,a=[],r=void 0,u=void 0,s=void 0;for(u=0,s=t.length;u<s;u++)if(o=t[u].container||t[u],this._mouseEnabled(o))if(i=this.getRootParams(o),n||!o.mouseEvent)if(o.ismouseon(e,i)){if(n===l.default.MOUSE_OUT)continue;if(n===l.default.MOUSE_OVER&&o.ll_mousein)continue;n!==l.default.MOUSE_UP&&(o.ll_mousein=!0),a.push({sp:o,co:i,listener:t[u].listener})}else{if(n!==l.default.MOUSE_OUT&&n!==l.default.MOUSE_OVER)continue;if(!o.ll_mousein)continue;o.ll_mousein=!1,a.push({sp:o,co:i,listener:t[u].listener})}else o.mouseEvent(e,l.default.MOUSE_DOWN,i);if(0!==a.length)for(a.length>1&&(a=a.sort(this._sort.bind(this))),s=a.length,u=0;u<s;u++)if(r=a[u],this._dispatchEvent(e,n,a,r.sp.objectIndex,u,this.dispatchAllEvent?s-1:u),u<a.length-1&&r.sp.objectIndex===a[u+1].sp.objectIndex)a.splice(u,1),u--;else{for(var c=void 0;c&&"root"!==c&&(c||(c=r.sp.parent,e.target=r.sp),c&&"root"!==c);)this._dispatchEvent(e,n,a,c.objectIndex,u+1,s),e.target=c,c=c.parent;if(!this.dispatchAllEvent)break}}},{key:"set",value:function(e,t){this.container[e]=t}},{key:"_sort",value:function(e,t){var n,o,i=void 0,a=void 0,r=this._getSort(e.sp),l=this._getSort(t.sp),u=void 0;for(u=0,n=r.length,o=l.length;u<n&&u<o;u++)if(i=r[u],a=l[u],i.objectIndex!==a.objectIndex)return a.parent.getChildIndex(a)-i.parent.getChildIndex(i);return l.length-r.length}},{key:"_getSort",value:function(e){for(var t=e.parent,n=[e];t&&"root"!==t;)n.unshift(t),t=t.parent;return n}}]),e}());s.set(l.default.MOUSE_DOWN,!0),s.set(l.default.MOUSE_UP,!0),s.set(l.default.MOUSE_MOVE,!0),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=o,this.height=i,this.setRectangle()}return o(e,[{key:"setRectangle",value:function(){var e=this;e.bottom=e.y+e.height,e.right=e.x+e.width,e.left=e.x,e.top=e.y}},{key:"clone",value:function(){var t=this;return new e(t.x,t.y,t.width,t.height)}},{key:"contains",value:function(e,t){var n=this;return e>=n.x&&e<=n.right&&t>=n.y&&t<=n.bottom}},{key:"containsRect",value:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom}},{key:"equals",value:function(e){var t=this;return e.x===t.x&&e.width===t.width&&e.y===t.y&&e.height===t.height}},{key:"inflate",value:function(e,t){var n=this;n.width+=e,n.height+=t,n.setRectangle()}},{key:"intersection",value:function(t){var n=this,o=n.x>t.x?n.x:t.x,i=n.y>t.y?n.y:t.y,a=n.right>t.right?t.right:n.right,r=n.bottom>t.bottom?t.bottom:n.bottom;return o<=a&&i<=r?new e(o,i,a,r):new e(0,0,0,0)}},{key:"intersects",value:function(e){var t=this,n=t.x>e.x?t.x:e.x,o=t.y>e.y?t.y:e.y,i=t.right>e.right?e.right:t.right,a=t.bottom>e.bottom?e.bottom:t.bottom;return n<=i&&o<=a}},{key:"isEmpty",value:function(){var e=this;return 0===e.x&&0===e.y&&0===e.width&&0===e.height}},{key:"offset",value:function(e,t){var n=this;n.x+=e,n.y+=t,n.setRectangle()}},{key:"setEmpty",value:function(){var e=this;e.x=0,e.y=0,e.width=0,e.height=0,e.setRectangle()}},{key:"setTo",value:function(e,t,n,o){var i=this;i.x=e,i.y=t,i.width=n,i.height=o,i.setRectangle()}},{key:"toString",value:function(){var e=this;return"[object LRectangle("+e.x+","+e.y+","+e.width+","+e.height+")]"}},{key:"union",value:function(t){var n=this;return new e(n.x>t.x?t.x:n.x,n.y>t.y?t.y:n.y,n.right>t.right?n.right:t.right,n.bottom>t.bottom?n.bottom:t.bottom)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(6)),r=d(n(72)),l=d(n(71)),u=d(n(8)),s=d(n(20)),c=n(0),f=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.name="instance"+n.objectIndex,n.x=0,n.y=0,n.width=0,n.height=0,n.scaleX=1,n.scaleY=1,n.alpha=1,n.visible=!0,n.rotate=0,n.blendMode=null,n.filters=null,n.transform=new r.default,n.parent=null,n.mask=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"ll_show",value:function(e){var t=this;e=e||f.default.LGlobal.canvas,t._canShow()&&(t._ll_trans=!1,f.default.LGlobal.box2d||"function"!=typeof t._ll_loopframe||t._ll_loopframe(),e.save(),t._showReady(e),t.blendMode&&(e.globalCompositeOperation=t.blendMode),t.filters&&t._ll_setFilters(e),t._rotateReady(),t.mask&&t.mask.ll_show&&!t._ll_cacheAsBitmap&&(t.mask.ll_show(e),e.clip()),t._transformRotate(e),t._transformScale(e),t._coordinate(e),t.transform.matrix&&t.transform.matrix.transform(e),t.alpha<1&&(t._ll_trans=!0,e.globalAlpha*=t.alpha),f.default.LGlobal.fpsStatus&&(f.default.LGlobal.fpsStatus.display++,t._ll_trans&&f.default.LGlobal.fpsStatus.transform++),t._ll_cacheAsBitmap?t._ll_cacheAsBitmap._ll_show(e):t._ll_show(e),e.restore(),f.default.LGlobal.box2d&&"function"==typeof t._ll_loopframe&&t._ll_loopframe())}},{key:"_canShow",value:function(){return this.visible}},{key:"_coordinate",value:function(e){var t=this;0===t.x&&0===t.y||(t._ll_trans=!0,e.transform(1,0,0,1,t.x,t.y))}},{key:"_rotateReady",value:function(){}},{key:"_showReady",value:function(e){}},{key:"_ll_show",value:function(e){}},{key:"_ll_setFilters",value:function(e){var t,n=this.filters,o=void 0;if(n)for(o=0,t=n.length;o<t;o++)n[o].ll_show(this,e)}},{key:"startX",value:function(){return 0}},{key:"startY",value:function(){return 0}},{key:"getWidth",value:function(e){return 1}},{key:"getHeight",value:function(e){return 1}},{key:"_transformRotate",value:function(e){var t=this,n=void 0,i=void 0;e=e||f.default.LGlobal.canvas,0!==t.rotate&&(t._ll_trans=!0,i=Math.PI/180,n=new l.default,o(t.rotatex)===c.UNDEFINED&&(t.rotatex=0,t.rotatey=0),t.box2dBody&&(i=1),n.a=Math.cos(t.rotate*i),n.b=Math.sin(t.rotate*i),n.c=-n.b,n.d=n.a,n.tx=t.x+t.rotatex,n.ty=t.y+t.rotatey,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"_transformScale",value:function(e){var t=this,n=void 0;e=e||f.default.LGlobal.canvas,1===t.scaleX&&1===t.scaleY||(t._ll_trans=!0,n=new l.default,1!==t.scaleX&&(n.tx=t.x),1!==t.scaleY&&(n.ty=t.y),n.a=t.scaleX,n.d=t.scaleY,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"getAbsoluteScale",value:function(){var e=this,t=void 0,n=void 0,o=void 0;for(t=e.scaleX,n=e.scaleY,o=e.parent;o&&"root"!==o;)t*=o.scaleX,n*=o.scaleY,o=o.parent;return{scaleX:t,scaleY:n}}},{key:"getRootCoordinate",value:function(){return this.localToGlobal(new u.default(0,0))}},{key:"localToGlobal",value:function(e){var t;return t=this.getRootMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"globalToLocal",value:function(e){var t;return t=this.getLocalMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"getBounds",value:function(e){if((void 0===e?"undefined":o(e))===c.UNDEFINED)return new s.default(0,0,0,0);var t,n,i=this,a=0,r=0,l=void 0,u=void 0;return i.objectIndex!==e.objectIndex&&(l=i.getRootCoordinate(),u=e.getRootCoordinate(),a=l.x-u.x,r=l.y-u.y),t=i.getWidth(!0),n=i.getHeight(!0),new s.default(a,r,t,n)}},{key:"cacheAsBitmap",value:function(e){var t=this;if(e){var n=t.x-t.startX(!0),o=t.y-t.startY(!0),i=t.getDataCanvas(n,o,t.getWidth(!0),t.getHeight(!0)),a=new f.default.LBitmapData(i,0,0,null,null,f.default.LBitmapData.DATA_CANVAS),r=new f.default.LBitmap(a);r.x=-n,r.y=-o,t._ll_cacheAsBitmap=r}else t._ll_cacheAsBitmap=null}},{key:"getDataCanvas",value:function(e,t,n,o){var i,a,r=this;r._createCanvas(),i=r.x,a=r.y,r.x=e||0,r.y=t||0,r.width=n||r.getWidth(),r.height=o||r.getHeight(),r._canvas.width=r.width,r._canvas.height=r.height;var l=void 0,u=void 0;return r.mask&&(l=r.mask.x,u=r.mask.y,r.mask.x+=r.x-i,r.mask.y+=r.y-a),r.ll_show(r._context),r.x=i,r.y=a,r.mask&&(r.mask.x=l,r.mask.y=u),r._canvas}},{key:"getDataURL",value:function(){var e=this,t=e.x-e.startX(!0),n=e.y-e.startY(!0),o=e.getDataCanvas(t,n,e.getWidth(!0),e.getHeight(!0));return o.toDataURL.apply(o,arguments)}},{key:"getParentByConstructor",value:function(e){for(var t=this.parent;"object"===(void 0===t?"undefined":o(t));){if(t instanceof e)return t;t=t.parent}return null}},{key:"ismouseonShapes",value:function(e,t,n){var i,a=this,r=void 0,l=void 0,u=void 0,s=void 0;for((void 0===e?"undefined":o(e))===c.UNDEFINED&&(e=a.shapes),i=a.getRootMatrix(),l=e.length-1;l>=0;l--)if(s=(r=e[l]).arg,u=a._changeShape(r.type,s,i),r.type===f.default.LShape.VERTICES){if(f.default.LGlobal.hitPolygon(u,t,n))return!0}else if(r.type===f.default.LShape.RECT){if(f.default.LGlobal.hitPolygon(u,t,n))return!0}else if(r.type===f.default.LShape.ARC&&(u[0]-t)*(u[0]-t)+(u[1]-n)*(u[1]-n)<u[3])return!0;return!1}},{key:"_changeShape",value:function(e,t,n){var o=void 0,i=void 0,a=void 0,r=void 0,l=void 0,u=void 0;if(e===f.default.LShape.VERTICES)for(o=[],a=0,r=t.length;a<r;a++)o[a]=n.toArray([t[a][0],t[a][1],1]);else if(e===f.default.LShape.RECT)for(a=0,r=(o=[[t[0],t[1]],[t[0]+t[2],t[1]],[t[0]+t[2],t[1]+t[3]],[t[0],t[1]+t[3]]]).length;a<r;a++)o[a]=n.toArray([o[a][0],o[a][1],1]);else e===f.default.LShape.ARC&&(l=n.toArray([t[0],t[1],1]),u=n.toArray([t[0]+t[2],t[1],1]),i=(l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]),o=[l[0],l[1],Math.sqrt(i),i]);return o}},{key:"getRootMatrix",value:function(){for(var e=this,t=new l.default;e&&"root"!==e;)1===e.scaleX&&1===e.scaleY||t.scale(e.scaleX,e.scaleY),0!==e.rotate&&t.rotate(e.rotate),0===e.x&&0===e.y||t.translate(e.x,e.y),e=e.parent;return t}},{key:"getLocalMatrix",value:function(){for(var e=this,t=new l.default,n=[];e&&"root"!==e;)n.push(e),e=e.parent;for(var o=n.length-1;o>=0;o--)0===(e=n[o]).x&&0===e.y||t.translate(-e.x,-e.y),0!==e.rotate&&t.rotate(-e.rotate),1===e.scaleX&&1===e.scaleY||t.scale(1/e.scaleX,1/e.scaleY);return t}},{key:"remove",value:function(){var e=this,t=e.parent;t&&"root"!==t&&(t.removeChild(e),e._ll_removeFromSelf=!0)}}]),t}();f.default.LDisplayObject=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(15)),a=r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){var n=this;(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.dispatcher=this.dispatcher||{},this.onLoad(e.request),setTimeout(function(){n.widget&&a.default.currentScene&&a.default.currentScene.nextFrameExecute(function(){n.widgetInit()})})}},{key:"onLoad",value:function(e){}},{key:"onLoadEnd",value:function(){}},{key:"isController",get:function(){return!0}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(6)),a=s(n(37)),r=s(n(3)),l=s(n(63)),u=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"destroy",value:function(){delete t._container[name]}},{key:"load",value:function(e,t){var n=this,o=[{name:e+"/"+t+".png",path:this.url(e+"/"+t+".png")},{name:e+"/"+t+".plist",path:this.url(e+"/"+t+".plist"),type:"text"},{name:e+"/"+t+".json",path:this.url(e+"/"+t+".json"),type:"text"}];a.default.load(o,null,function(o){n._loadComplete(o,e,t)})}},{key:"url",value:function(e){return u.default.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+Date.now():e}},{key:"_loadComplete",value:function(e,n,o){var i=n.indexOf("resources/");this._atlasKey=n.substring(i+"resources/".length)+"/"+o,t._container[this._atlasKey]=this;var a=e[n+"/"+o+".png"],l=e[n+"/"+o+".plist"],u=JSON.parse(e[n+"/"+o+".json"]);this.set(l,a,u);var s=new r.default(r.default.COMPLETE);s.currentTarget=this,s.target=this,this.dispatchEvent(s)}},{key:"set",value:function(e,t,n){this._texture=t,this._setting=n,this._initData(e)}},{key:"_initData",value:function(e){var t=new DOMParser;this.xmlDom=t.parseFromString(e,"text/xml");for(var n=this.xmlDom.querySelector("plist").querySelector("dict").children,o=void 0,i=0;i<n.length;i++){var a=n[i];if("key"===a.tagName&&"frames"===a.textContent){o=n[i+1].children;break}}this._textureData={};for(var r=0;r<o.length;r+=2){var l=o[r].textContent.replace(".png",""),u=o[r+1],s=this._getTextureData(u.children);this._textureData[l]=s}}},{key:"getSprite",value:function(e,t,n,o){var i=this._textureData[e],a=new l.default(this._texture,this._setting[e],i,t);return n&&o&&a.resize(n,o),a}},{key:"_getTextureData",value:function(e){for(var t={},n=0;n<e.length;n+=2){var o=e[n].textContent,i=e[n+1],a=JSON.parse("string"===i.tagName?i.textContent.replace(/\{/g,"[").replace(/\}/g,"]"):i.tagName);t[o]=a}return t}}]),t}();c.TYPE_PLIST="type_plist",c._container={},c.get=function(e){return c._container[e]||new c},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(65)),a=u(n(64)),r=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LSound",this._type="audio",e.webAudioEnabled&&r.default.LGlobal.webAudio)this._media=new i.default;else{this._media=new a.default;try{this._media.data=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),this._media.data={}}this._media.data.loop=!1,this._media.data.autoplay=!1}t&&this.load(t)};s.TYPE_SOUND="sound",s.webAudioEnabled=!1,s.Container={ll_save:0,time:0,list:[],ll_show:function(){var e=s.Container,t=(new Date).getTime();e.time=t-(e.ll_save?e.ll_save:t),e.ll_save=t;for(var n=e.list,o=n.length-1;o>=0;o--)n[o]&&n[o].ll_check()},add:function(e){s.Container.list.indexOf(e)>=0||s.Container.list.push(e)},remove:function(e){for(var t=s.Container.list,n=t.length-1;n>=0;n--)if(t[n].objectIndex===e.objectIndex){t.splice(n,1);break}},stopOther:function(e){for(var t=s.Container.list,n=t.length-1;n>=0;n--)t[n].objectIndex!==e.objectIndex&&t[n].stop()}},setTimeout(function(){r.default.LGlobal.childList.push(s.Container),i.default._context=null;var e=location.protocol;if("http:"===e||"https:"===e){if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==l.UNDEFINED)try{i.default._context=new AudioContext}catch(e){}else if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))!==l.UNDEFINED)try{i.default._context=new webkitAudioContext}catch(e){}i.default._context&&(i.default.container.push(i.default._context),s.webAudioEnabled=!0)}}),t.default=s},function(e,t,n){"use strict";function o(){throw"LFocusEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.FOCUS_IN="focusIn",o.FOCUS_OUT="focusOut",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(6)),a=l(n(27)),r=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(e,n,o){var i=this;if(n||(n=t.TYPE_BITMAPDATE),i.loadtype=n,i.useXHR=o&&!a.default.local&&a.default.canUseBlob,n===t.TYPE_BITMAPDATE){var l=t.get(e);if(l)return void setTimeout(function(){i.dispatchCompleteEvent(l)});i.useXHR?(a.default.responseType=a.default.ARRAY_BUFFER,a.default.progress=function(e){var t=new r.default(r.default.PROGRESS);t.currentTarget=i,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,i.dispatchEvent(t)},a.default.post(e,{},function(t){var n=void 0;try{n=new Blob([t],{type:"image/png"})}catch(e){if("TypeError"===e.name&&window.BlobBuilder){var o=new BlobBuilder;o.append(t),n=o.getBlob()}else n=null,i.useXHR=!1}i.useXHR&&(e=i.createObjectURL(n)),i.loadStart(e)},function(e){var t=new r.default(r.default.ERROR);t.currentTarget=i,t.target=e,t.responseURL=e.responseURL,i.dispatchEvent(t)})):i.loadStart(e)}}},{key:"dispatchCompleteEvent",value:function(e){var t=new r.default(r.default.COMPLETE);t.currentTarget=this,t.target=e,this.useXHR&&this.revokeObjectURL(e.src),this.dispatchEvent(t)}},{key:"loadStart",value:function(e){var n=this;n.content=new Image,n.content.onload=function(){n.content.onload=null,n.dispatchCompleteEvent(n.content),t._container[e]=n.content,delete n.content},n.useXHR||(n.content.onerror=function(e){var t=new r.default(r.default.ERROR);t.currentTarget=n,t.target=e.target,t.responseURL=e.target.src,n.dispatchEvent(t)}),n.content.src=e}},{key:"createObjectURL",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){(window.URL||window.webkitURL).revokeObjectURL(e)}}]),t}();u.TYPE_BITMAPDATE="bitmapData",u._container={},u.get=function(e){return u._container[e]},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType=null,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,this.canUseBlob=window.Blob||window.BlobBuilder;var t=location.protocol;this.local=!("http:"===t||"https:"===t),this.TEXT="text",this.JSON="json",this.ARRAY_BUFFER="arraybuffer",this.BLOB="blob"}return i(e,[{key:"get",value:function(e,t,n,o){this.getRequest("GET",e,t,n,o)}},{key:"post",value:function(e,t,n,o){this.getRequest("POST",e,t,n,o)}},{key:"getRequest",value:function(e,t,n,o,i){var a=this,r=void 0,l="",u="";a.err=i;var s=a.getHttp();if(s){if(n)for(r in n)l+=u+r+"="+n[r],u="&";"get"===e.toLowerCase()&&l.length>0&&(t+=(t.indexOf("?")>=0?"&":"?")+l,l=null),s.onerror=function(e){i&&(i(e),i=null)};var c=a.progress;if(a.progress=null,s.addEventListener("progress",function(e){404===e.currentTarget.status?i&&(i(e.currentTarget),i=null):200===e.currentTarget.status&&c&&c(e)},!1),s.open(e,t,!0),a.responseType){if(a.responseType===a.JSON)try{s.responseType=a.responseType}catch(e){s.responseType=a.TEXT,s._responseType="json"}else s.responseType=a.responseType;a.responseType=a.TEXT}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(e){var t=e.currentTarget;4===t.readyState&&(t.status>=200&&t.status<300||304===t.status?o&&(t._responseType===a.JSON?(t._responseType=a.TEXT,o(JSON.parse(t.responseText))):t.responseType===a.ARRAY_BUFFER||t.responseType===a.BLOB||t.responseType===a.JSON?o(t.response):t.responseText.length>0?o(t.responseText):o(null)):i&&(i(t),i=null))},s.send(l)}}},{key:"getHttp",value:function(){if(("undefined"==typeof XMLHttpRequest?"undefined":o(XMLHttpRequest))!==a.UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.err||this.err(e)}}return!1}}]),e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=u(n(21)),r=u(n(19)),l=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LInteractiveObject",e.mouseEnabled=!0,e.mouseList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addEventListener",value:function(e,t){var n=this;if(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK){if(r.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&r.default.container[l.default.MOUSE_MOVE])return void r.default.addMouseEvent(n,e,t);n.mouseList.push({listener:t,type:e})}else n._eventList.push({listener:t,type:e})}},{key:"removeEventListener",value:function(e,n){var o=this,a=void 0,u=void 0;if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeEventListener",this).call(this,e,n);if(r.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&r.default.container[l.default.MOUSE_MOVE])r.default.removeMouseEvent(o,e,n);else for(u=o.mouseList.length,a=0;a<u;a++)if(o.mouseList[a]&&e===o.mouseList[a].type&&o.mouseList[a].listener===n)return void o.mouseList.splice(a,1)}},{key:"removeAllEventListener",value:function(){var e=this;e.mouseList.length=0,e._eventList.length=0,r.default.container[l.default.MOUSE_DOWN]&&r.default.removeMouseEvent(e,l.default.MOUSE_DOWN),r.default.container[l.default.MOUSE_UP]&&r.default.removeMouseEvent(e,l.default.MOUSE_UP),r.default.container[l.default.MOUSE_MOVE]&&(r.default.removeMouseEvent(e,l.default.MOUSE_MOVE),r.default.removeMouseEvent(e,l.default.MOUSE_OVER),r.default.removeMouseEvent(e,l.default.MOUSE_OUT))}},{key:"hasEventListener",value:function(e,n){var o=this,a=void 0,u=void 0;if(r.default.container[e])return r.default.hasEventListener(o,e,n);if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hasEventListener",this).call(this,e,n);for(u=o.mouseList.length,a=0;a<u;a++)if(o.mouseList[a]&&e===o.mouseList[a].type&&(!n||o.mouseList[a].listener===n))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(31));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._focus=!1}},{key:"_iconReset",value:function(e){var t=this.currentButton.upState.getChildAt(1);e?t.resize(100,100):t.resize(80,80),t.x=.5*(this.widgetWidth-t.widgetWidth),t.y=this.widgetHeight-t.widgetHeight}},{key:"focusOn",value:function(){this._focus||(this._focus=!0,this.currentButton.upState.resize(190,this.widgetHeight),this._iconReset(!0))}},{key:"focusOff",value:function(){this._focus&&(this._focus=!1,this.currentButton.upState.resize(150,this.widgetHeight),this._iconReset(!1))}},{key:"focus",get:function(){return this._focus}}]),t}();i.default.set("FooterMenuButtonView",l),t.default=l},function(e,t,n){"use strict";function o(){throw"LTimerEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TIMER="timer",o.TIMER_COMPLETE="timerComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=f(n(11)),r=f(n(5)),l=f(n(50)),u=f(n(4)),s=f(n(2)),c=f(n(15));function f(e){return e&&e.__esModule?e:{default:e}}var d="sprite",h="scale",p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"updateView",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var e=this.button;e.onMouseDown&&this._addMouseEvent(u.default.MOUSE_DOWN,e.onMouseDown),e.onMouseMove&&this._addMouseEvent(u.default.MOUSE_MOVE,e.onMouseMove),e.onMouseUp&&this._addMouseEvent(u.default.MOUSE_UP,e.onMouseUp)}},{key:"_addMouseEvent",value:function(e,t){var n=this.getTarget(t.target);n&&this.addEventListener(e,function(e){n[t.method](e,t.param)})}},{key:"_initDataChildNodes",value:function(e){if(e.property&&e.property.button){var t=[],n=[],o=e.property.button;t.push(o.upState||new r.default),o.transition===d&&(o.overState&&t.push(o.overState),o.downState&&t.push(o.downState),o.disableState&&t.push(o.disableState));var i=!0,a=!1,u=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var p=s.value;if(p){var v=c.default.create(p);n.push(v),v instanceof c.default&&v.lateInit()}else n.push(null)}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}for(var y=n.length-1;y<4;y++)n.push(null);var b=new l.default(n[0],n[1],n[2],n[3]);o.transition!==h&&(b.staticMode=!0),this.addChild(b)}}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.currentButton.upState.widgetWidth?this.currentButton.upState.widgetWidth:this.currentButton.upState.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.currentButton.upState.widgetHeight?this.currentButton.upState.widgetHeight:this.currentButton.upState.getHeight()}},{key:"currentButton",get:function(){return this.getChildAt(0)}}]),t}();s.default.set("BindButtonView",p),t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(28)),a=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LShape",e.graphics=new a.default.LGraphics,e.graphics.parent=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"_ll_show",value:function(e){this.graphics.ll_show(e)}},{key:"getWidth",value:function(e){var t=this,n=void 0,o=void 0,i=t.graphics.startX(),a=i+t.graphics.getWidth();return e&&t.mask&&(n=t.mask._startX?t.mask._startX():t.mask.startX(),o=t.mask.getWidth(),i<n&&(i=n),a>n+o&&(a=n+o)),t.ll_left=t.x+i,t.ll_right=t.x+a,(a-i)*t.scaleX}},{key:"getHeight",value:function(e){var t=this,n=void 0,o=void 0,i=t.graphics.startY(),a=i+t.graphics.getHeight();return e&&t.mask&&(n=t.mask._startY?t.mask._startY():t.mask.startY(),o=t.mask.getHeight(),i<n&&(i=n),a>n+o&&(a=n+o)),t.ll_top=t.y+i,t.ll_bottom=t.y+a,(a-i)*t.scaleY}},{key:"_startX",value:function(){return this.getWidth(),this.ll_left}},{key:"startX",value:function(){return this._startX()*this.scaleX}},{key:"_startY",value:function(){return this.getHeight(),this.ll_top}},{key:"startY",value:function(){return this._startY()*this.scaleY}},{key:"clone",value:function(){var e=new t;return e.copyProperty(this),e.graphics=this.graphics.clone(),e.graphics.parent=e,e}},{key:"ismouseon",value:function(e,t){var n,o=this,i=!1;return!(!o.visible||!e)&&(!(o.mask&&(o.mask.parent||(o.mask.parent=o.parent),!o.mask.ismouseon(e,t)))&&(n={x:o.x*t.scaleX+t.x,y:o.y*t.scaleY+t.y,scaleX:t.scaleX*o.scaleX,scaleY:t.scaleY*o.scaleY},o.graphics&&(i=o.graphics.ismouseon(e,n)),i))}},{key:"die",value:function(){this.graphics.clear(),function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();l.POINT="point",l.LINE="line",l.ARC="arc",l.RECT="rect",l.VERTICES="vertices",a.default.LShape=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(5)),r=c(n(32)),l=c(n(14)),u=c(n(13)),s=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,i,a,c,f,d,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),v=p;if(v.type="LPanel",(void 0===h?"undefined":o(h))===s.UNDEFINED&&(h=0),self.overlapping=h,"string"==typeof e){var y=new r.default;(void 0===n?"undefined":o(n))===s.UNDEFINED&&(n=20),(void 0===i?"undefined":o(i))===s.UNDEFINED&&(i=20),y.graphics.drawRoundRect(1,"#000000",[0,0,n,i,n<10?.5*n:5],!0,e),(e=new l.default(null,0,0,n,i,l.default.DATA_CANVAS)).draw(y)}v.x1=a||.4*e.width,v.x2=c||.6*e.width,v.y1=f||.4*e.height,v.y2=d||.6*e.height,v.bitmapData=e;var b=new l.default(e.image,e.x,e.y,v.x1,v.y1),g=new l.default(e.image,e.x+v.x1,e.y,v.x2-v.x1,v.y1),_=new l.default(e.image,e.x+v.x2,e.y,e.width-v.x2,v.y1),m=new l.default(e.image,e.x,e.y+v.y1,v.x1,v.y2-v.y1),w=new l.default(e.image,e.x+v.x1,e.y+v.y1,v.x2-v.x1,v.y2-v.y1),O=new l.default(e.image,e.x+v.x2,e.y+v.y1,e.width-v.x2,v.y2-v.y1),E=new l.default(e.image,e.x,e.y+v.y2,v.x1,e.height-v.y2),x=new l.default(e.image,e.x+v.x1,e.y+v.y2,v.x2-v.x1,e.height-v.y2),L=new l.default(e.image,e.x+v.x2,e.y+v.y2,e.width-v.x2,e.height-v.y2);return v.ltBitmap=new u.default(b),v.addChild(v.ltBitmap),v.mtBitmap=new u.default(g),v.mtBitmap.x=v.x1-h,v.addChild(v.mtBitmap),v.rtBitmap=new u.default(_),v.addChild(v.rtBitmap),v.lmBitmap=new u.default(m),v.lmBitmap.y=v.y1-h,v.addChild(v.lmBitmap),v.mmBitmap=new u.default(w),v.mmBitmap.x=v.x1-h,v.mmBitmap.y=v.y1-h,v.addChild(v.mmBitmap),v.rmBitmap=new u.default(O),v.rmBitmap.y=v.y1-h,v.addChild(v.rmBitmap),v.lbBitmap=new u.default(E),v.addChild(v.lbBitmap),v.mbBitmap=new u.default(x),v.mbBitmap.x=v.x1-h,v.addChild(v.mbBitmap),v.rbBitmap=new u.default(L),v.addChild(v.rbBitmap),v.resize(n,i),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"resize",value:function(e,t){var n=this;n._ll_w=e,n._ll_h=t,n.rtBitmap.x=n.rmBitmap.x=n.rbBitmap.x=e-(n.bitmapData.width-n.x2),n.lbBitmap.y=n.mbBitmap.y=n.rbBitmap.y=t-(n.bitmapData.height-n.y2),n.lmBitmap.scaleY=n.mmBitmap.scaleY=n.rmBitmap.scaleY=(t-n.y1-(n.bitmapData.height-n.y2)+2*self.overlapping)/(n.y2-n.y1),n.mtBitmap.scaleX=n.mmBitmap.scaleX=n.mbBitmap.scaleX=(e-n.x1-(n.bitmapData.width-n.x2)+2*self.overlapping)/(n.x2-n.x1)}},{key:"getSize",value:function(){return{width:this._ll_w,height:this._ll_h}}},{key:"clone",value:function(){var e=new t(this.bitmapData.clone(),this._ll_w,this._ll_h,this.x1,this.x2,this.y1,this.y2,this.overlapping);return e.copyProperty(this),e}}]),t}();t.default=f},function(e,t,n){"use strict";function o(){throw"LStageAlign cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TOP="T",o.BOTTOM="B",o.LEFT="L",o.RIGHT="Re",o.TOP_LEFT="TL",o.TOP_RIGHT="TR",o.TOP_MIDDLE="TM",o.BOTTOM_LEFT="BL",o.BOTTOM_RIGHT="BR",o.BOTTOM_MIDDLE="BM",o.MIDDLE="M",t.default=o},function(e,t,n){"use strict";function o(){throw"LKeyboardEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.KEY_DOWN="keydown",o.KEY_UP="keyup",o.KEY_PRESS="keypress",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=u(n(6)),a=u(n(3)),r=n(16),l=u(n(27));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LURLLoader",e.loadtype="",e.content=null,e.event={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(e,n){var o=this,i=void 0,u=void 0;if(n||("txt"===(u=(0,r.getExtension)(e))?n=t.TYPE_TEXT:"js"===u&&(n=t.TYPE_JS)),o.loadtype=n,n===t.TYPE_TEXT)l.default.progress=function(e){var t=new a.default(a.default.PROGRESS);t.currentTarget=o,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,o.dispatchEvent(t)},l.default.get(e,{},function(e){i=new a.default(a.default.COMPLETE),o.data=e,i.currentTarget=o,i.target=e,o.dispatchEvent(i),delete o.content,delete o.data},function(e){var t=new a.default(a.default.ERROR);t.currentTarget=o,t.target=e,t.responseURL=e.responseURL,o.dispatchEvent(t)});else if(n===t.TYPE_JS){var s=document.createElement("script");s.onerror=function(t){var n=new a.default(a.default.ERROR);n.currentTarget=o,n.target=t.target,n.responseURL=e,o.dispatchEvent(n)},s.onload=function(){(i=new a.default(a.default.COMPLETE)).currentTarget=o,i.target=o,o.dispatchEvent(i),delete o.content},s.src=e,s.type="text/javascript",document.querySelector("head").appendChild(s)}}}]),t}();s.TYPE_TEXT="text",s.TYPE_JS="js",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=v(n(6)),r=v(n(3)),l=n(0),u=n(16),s=v(n(36)),c=v(n(69)),f=v(n(26)),d=v(n(7)),h=v(n(24)),p=v(n(23));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.llname="ll.file.",e.llload="ll.load.",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"load",value:function(e,t,n){var o=this;if(!e||0===e.length){var i=new r.default(r.default.COMPLETE);return i.currentTarget=o,i.target={},void o.dispatchEvent(i)}o.list=e,o.onupdate=t,o.oncomplete=n,o.loader=o,o.index=0,o.loadIndex=0,o.result=[],o.lresult=[],o.loadInit()}},{key:"loadInit",value:function(){var e=this;e.index>=e.list.length||(e.loadIndex=0,e.loadStart(),e.reloadtime=setTimeout(e.loadInit.bind(e),1e4))}},{key:"loadStart",value:function(){var e=this,t=void 0,n=void 0;e.loadIndex>=e.list.length||(t=e.list[e.loadIndex],o(t.progress)===l.UNDEFINED&&(t.progress=0),t.name||(t.name=e.llname+e.loadIndex),e.lresult[e.llload+t.name]||(t.type||("txt"===(n=(0,u.getExtension)(t.path))?t.type=s.default.TYPE_TEXT:"js"===n?t.type=s.default.TYPE_JS:new Array("mp3","ogg","wav","m4a").indexOf(n)>=0&&(t.type=h.default.TYPE_SOUND)),t.type===s.default.TYPE_TEXT||t.type===s.default.TYPE_JS?(e.loader=new s.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),t.type)):t.type===h.default.TYPE_SOUND?(e.loader=new h.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path)):t.type===p.default.TYPE_PLIST?(e.loader=new p.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):t.type===c.default.TYPE_FONT?(e.loader=new c.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):(e.loader=new f.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),f.default.TYPE_BITMAPDATE,t.useXHR)),e.loader._loadIndex=e.loadIndex),e.loadIndex++,e.loadStart())}},{key:"_loadProgress",value:function(e){var t=e.currentTarget,n=t.parent;n.list[t._loadIndex].progress=e.loaded/e.total;for(var o=0,i=0,a=n.list.length;i<a;i++)o+=n.list[i].progress;var l=new r.default(r.default.PROGRESS);l.currentTarget=n,l.target=e.currentTarget,l.loaded=o,l.total=n.list.length,l.responseURL=e.responseURL,n.dispatchEvent(l)}},{key:"_loadError",value:function(e){var t=e.currentTarget,n=t.parent;delete t.parent,t.removeEventListener(r.default.ERROR,n._loadError);var o=new r.default(r.default.ERROR);o.currentTarget=n,o.target=e.target,o.responseURL=e.responseURL,n.dispatchEvent(o)}},{key:"_loadComplete",value:function(e){var t=e.currentTarget.parent;if(t){if(e&&e.currentTarget.name){if(e.currentTarget.removeEventListener(r.default.COMPLETE,t._loadComplete),e.currentTarget.name.indexOf(t.llname)>=0&&(e.target=1),t.lresult[t.llload+e.currentTarget.name])return;t.result[e.currentTarget.name]=e.target,t.lresult[t.llload+e.currentTarget.name]=1}if(t.index++,e.loaded=e.total=1,t._loadProgress(e),delete e.currentTarget.parent,t.index>=t.list.length){t.reloadtime&&clearTimeout(t.reloadtime);var n=new r.default(r.default.COMPLETE);n.currentTarget=t,n.target=t.result,t.dispatchEvent(n),d.default.forceRefresh=!0}}}},{key:"url",value:function(e){return d.default.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime():e}}]),t}();y.load=function(e,t,n,o){var i=new y;t&&i.addEventListener(r.default.PROGRESS,function(e){t((100*e.loaded/e.total).toFixed(2))}),n&&i.addEventListener(r.default.COMPLETE,function(e){n(e.target)}),o&&i.addEventListener(r.default.ERROR,o),i.load(e)},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(1)),a=l(n(6)),r=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=o;return i.type="LTimer",i.delay=e,i.repeatCount=n||Number.MAX_VALUE,i.running=!1,i.currentCount=0,i.reset(),t.TimerManager.add(i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(){this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"reset",value:function(){var e=this;e.currentTime=0,e.currentCount=0,e.stop()}},{key:"destroy",value:function(){t.TimerManager.remove(this)}},{key:"ll_show",value:function(){var e=this;!e.running||e.currentCount>=e.repeatCount||(e.currentTime+=i.default.LGlobal.speed,e.currentTime<e.delay||(e.currentTime=0,e.currentCount++,e.dispatchEvent(r.default.TIMER),e.currentCount>=e.repeatCount&&e.dispatchEvent(r.default.TIMER_COMPLETE)))}}]),t}();u.TimerManager=function(){function e(){this.childList=[]}return e.prototype={ll_show:function(){for(var e=void 0,t=0;t<this.childList.length;t++)(e=this.childList[t])&&e.ll_show()},add:function(e){this.childList.push(e)},remove:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.childList.splice(o,1);break}}},new e}(),i.default.LGlobal.childList.push(u.TimerManager),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(22)),a=l(n(38)),r=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._waitExecuteFuncs=[]}},{key:"nextFrameExecute",value:function(e){var t=this;this._timer||(this._timer=new a.default,this._timer.addEventListener(r.default.TIMER,function(){t._waitExecuteFuncsExecute()})),0===this._waitExecuteFuncs.length&&(this._timer.reset(),this._timer.start()),this._waitExecuteFuncs.push(e)}},{key:"_waitExecuteFuncsExecute",value:function(){if(0!==this._waitExecuteFuncs.length){for(var e=0;e<this._waitExecuteFuncs.length;e++){var t=this._waitExecuteFuncs[e];"function"==typeof t&&t()}this._waitExecuteFuncs.length=0}}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=s(n(2)),r=s(n(39)),l=s(n(10)),u=s(n(29));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"onLoad",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e),this.dispatcher.username="",this.dispatcher.avatar="stone",this.dispatcher.cards=[{name:"",icon:"dog"},{name:"",icon:"dragon"},{name:"",icon:"dragon"},{name:"",icon:"dragon"}]}},{key:"onLoadEnd",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this.footerButtons=this.childList.filter(function(e){return e instanceof u.default}),this.changePanel(null,"Home")}},{key:"changePanel",value:function(e,t){var n=this.footerButtons.findIndex(function(e){return e.focus});n>=0&&this.footerButtons[n].focusOff();var o=this.footerButtons.findIndex(function(e){return e.name===t});this.footerButtons[o].focusOn();var i=0;this.footerButtons.forEach(function(e){e.x=i,i+=e.focus?190:150}),l.default.loadPanel("prefabs/panel/"+t,{},o>n?"right":"left")}},{key:"gotoBattleScene",value:function(e,t){console.error("gotoBattleScene",e,t),l.default.loadScene("prefabs/scene/Battle")}}]),t}();a.default.set("TopSceneController",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(17));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Team"}}]),t}();i.default.set("TeamPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(17));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Shop"}}]),t}();i.default.set("ShopPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(2)),a=l(n(17)),r=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Home"}},{key:"showRankingDialog",value:function(){r.default.showDialog("prefabs/dialog/RankingDialog")}}]),t}();i.default.set("HomePanelController",u),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(17));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Event"}}]),t}();i.default.set("EventPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(22),a=(o=i)&&o.__esModule?o:{default:o};var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(2)),a=l(n(45)),r=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="ListView",this.dispatcher.users=[{name:"",icon:"dragon"},{name:"",icon:"tiger"},{name:"",icon:"horse"},{name:"",icon:"monkey"}]}},{key:"showRankingDialog",value:function(){r.default.showDialog("prefabs/dialog/RankingDialog")}}]),t}();i.default.set("RankingDialogController",u),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LListChildView=t.LListScrollBar=t.LListView=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},r=_(n(5)),l=_(n(14)),u=_(n(13)),s=_(n(20)),c=_(n(1)),f=_(n(3)),d=_(n(4)),h=_(n(8)),p=n(0),v=_(n(33)),y=_(n(25)),b=_(n(12)),g=_(n(18));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.LListView=function(e){function t(){m(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e,o=new l.default("#fff000",0,0,100,100,l.default.DATA_CANVAS);return n.bitmap=new u.default(o),n.addChild(n.bitmap),n.clipping=new s.default(0,0,100,100),n.clipping.parent=n,c.default.LGlobal.enableWebGL&&(n.bitmap.visible=!1,n.childLayer=new r.default,n.addChild(n.childLayer),n.childLayer.mask=new r.default),n.cellWidth=100,n.cellHeight=100,n.arrangement=t.Direction.Horizontal,n.movement=t.Direction.Vertical,n.dragEffect=t.DragEffects.MomentumAndSpring,n.centerOn=!1,n.scrollBarVertical=new x,n.addChild(n.scrollBarVertical),n.scrollBarHorizontal=new x,n.addChild(n.scrollBarHorizontal),n.maxPerLine=1,n._ll_items=[],n._ll_x=Number.MAX_VALUE,n._ll_y=0,n.addEventListener(f.default.ENTER_FRAME,n._ll_onframe),n.addEventListener(d.default.MOUSE_DOWN,n._ll_ondown),n.resize(100,100),e}return O(t,r.default),i(t,[{key:"setVerticalScrollBar",value:function(e){this.scrollBarVertical.remove(),this.scrollBarVertical=e,this.addChild(this.scrollBarVertical),this.scrollBarVertical.resizeHeight(this.clipping.height)}},{key:"setHorizontalScrollBar",value:function(e){this.scrollBarHorizontal.remove(),this.scrollBarHorizontal=e,this.addChild(this.scrollBarHorizontal),this.scrollBarHorizontal.resizeWidth(this.clipping.width)}},{key:"resize",value:function(e,t){e>>>=0,t>>>=0;var n=this.bitmap.bitmapData;n.image.height=n.height=t,n.image.width=n.width=e,this.clipping.width=e,this.clipping.height=t,this.scrollBarVertical.x=this.clipping.width,this.scrollBarHorizontal.y=this.clipping.height,this.scrollBarVertical.resizeHeight(this.clipping.height),this.scrollBarHorizontal.resizeWidth(this.clipping.width),this.resizeScrollBar(),c.default.LGlobal.enableWebGL&&(this.childLayer.mask.graphics.clear(),this.childLayer.mask.graphics.drawRect(0,"#ff0000",[0,0,this.clipping.width,this.clipping.height]))}},{key:"_ll_ondown",value:function(e){var t=e.currentTarget,n=new L(t,e.selfX,e.selfY);c.default.LGlobal.stage.addChild(n),n.startDrag(e.touchPointID),t.clickOnChild(e.selfX,e.selfY,"touch")}},{key:"updateView",value:function(){this._ll_x=Number.MAX_VALUE}},{key:"getItems",value:function(){return this._ll_items}},{key:"isInClipping",value:function(e){var n=void 0,o=void 0;return this.arrangement===t.Direction.Horizontal?(n=e%this.maxPerLine*this.cellWidth,o=(e/this.maxPerLine>>>0)*this.cellHeight):(n=(e/this.maxPerLine>>>0)*this.cellWidth,o=e%this.maxPerLine*this.cellHeight),this.clipping.x<=n&&this.clipping.x+this.clipping.width>n&&this.clipping.y<=o&&this.clipping.y+this.clipping.height>o}},{key:"_ll_onframe",value:function(e){var n=e.currentTarget;if(n.clipping.x!==n._ll_x||n.clipping.y!==n._ll_y){if(c.default.LGlobal.enableWebGL){n.childLayer.x=-n.clipping.x,n.childLayer.y=-n.clipping.y;for(var o=0;o<n.childLayer.childList.length;o++)n.childLayer.childList[o].visible=!1}else n.bitmap.bitmapData.clear();var i,a=n._ll_items.length,r=n.clipping.x/n.cellWidth>>0,l=n.clipping.y/n.cellHeight>>0;if(i=1,n.arrangement===t.Direction.Horizontal)for(var u=0,f=Math.ceil(n.clipping.height/n.cellHeight)+1;u<f;u++)for(var d=(l+u)*n.maxPerLine+r,p=0,v=Math.ceil(n.clipping.width/n.cellWidth)+i;p<n.maxPerLine&&p<v;p++){var y=d+p;if(!(y<0)){if(y>=a)break;var b=n._ll_items[y],g=y%n.maxPerLine*n.cellWidth,_=(y/n.maxPerLine>>>0)*n.cellHeight;b.updateView(n.bitmap,new s.default(0,0,n.cellWidth,n.cellHeight),new h.default(g-n.clipping.x,_-n.clipping.y))}}else for(var m=0,w=Math.ceil(n.clipping.width/n.cellWidth)+i;m<w;m++)for(var O=(r+m)*n.maxPerLine+l,E=0,x=Math.ceil(n.clipping.height/n.cellHeight)+1;E<n.maxPerLine&&E<x;E++){var L=O+E;if(!(L<0)){if(L>=a)break;var T=n._ll_items[L],S=L%n.maxPerLine*n.cellHeight,k=(L/n.maxPerLine>>>0)*n.cellWidth;T.updateView(n.bitmap,new s.default(0,0,n.cellWidth,n.cellHeight),new h.default(k-n.clipping.x,S-n.clipping.y))}}n.setScrollBarsPositon(),n._ll_x=n.clipping.x,n._ll_y=n.clipping.y}}},{key:"clickOnChild",value:function(e,n,o){var i=this.clipping.x+e,a=this.clipping.y+n,r=void 0;if((r=this.arrangement===t.Direction.Horizontal?(a/this.cellHeight>>>0)*this.maxPerLine+(i/this.cellWidth>>>0):(a/this.cellHeight>>>0)+(i/this.cellWidth>>>0)*this.maxPerLine)<this._ll_items.length){var l=this._ll_items[r],u={currentTarget:this,target:l,offsetX:c.default.LGlobal.offsetX,offsetY:c.default.LGlobal.offsetY,selfX:i%this.cellWidth,selfY:a%this.cellHeight};"touch"===o?l.onTouch(u):l.onClick(u)}}},{key:"insertChildView",value:function(e,t){c.default.LGlobal.enableWebGL&&((void 0===t?"undefined":o(t))===p.UNDEFINED?this.childLayer.addChild(e):this.childLayer.addChildAt(e,t)),(void 0===t?"undefined":o(t))===p.UNDEFINED?this._ll_items.push(e):this._ll_items.splice(t,0,e),this.resizeScrollBar()}},{key:"clear",value:function(){for(var e=0,t=this._ll_items.length;e<t;e++)this._ll_items[e].die(),this._ll_items[e].removeAllChild();this._ll_items.length=0,this.resizeScrollBar()}},{key:"deleteChildView",value:function(e){var t,n=this._ll_items,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){n[o].die(),n[o].removeAllChild(),this._ll_items.splice(o,1);break}this.resizeScrollBar()}},{key:"updateList",value:function(e){this._ll_items=e,this.resizeScrollBar()}},{key:"setScrollBarsPositon",value:function(){this.allWidth>0&&this.scrollBarHorizontal.setX(this.clipping.x/this.allWidth),this.allHeight>0&&this.scrollBarVertical.setY(this.clipping.y/this.allHeight)}},{key:"dragStart",value:function(){this.scrollBarHorizontal.showCondition===t.ScrollBarCondition.WhenDragging&&(this.scrollBarHorizontal.visible=!0),this.scrollBarVertical.showCondition===t.ScrollBarCondition.WhenDragging&&(this.scrollBarVertical.visible=!0)}},{key:"dragEnd",value:function(){this.scrollBarHorizontal.showCondition===t.ScrollBarCondition.WhenDragging&&(this.scrollBarHorizontal.visible=!1),this.scrollBarVertical.showCondition===t.ScrollBarCondition.WhenDragging&&(this.scrollBarVertical.visible=!1)}},{key:"resizeScrollBar",value:function(){var e,n,o=void 0,i=void 0,a=this._ll_items.length;this.arrangement===t.Direction.Horizontal?(o=this.cellWidth*(a>this.maxPerLine?this.maxPerLine:a),i=this.cellHeight*Math.ceil(a/this.maxPerLine)):(i=this.cellHeight*(a>this.maxPerLine?this.maxPerLine:a),o=this.cellWidth*Math.ceil(a/this.maxPerLine)),e=this.clipping.width<o?this.clipping.width/o:1,n=this.clipping.height<i?this.clipping.height/i:1,this.allWidth=o-this.clipping.width,this.allHeight=i-this.clipping.height,this.scrollBarHorizontal.setWidthScale(e),this.setScrollBarVisible(this.scrollBarHorizontal,e),this.scrollBarVertical.setHeightScale(n),this.setScrollBarVisible(this.scrollBarVertical,n),this.updateView()}},{key:"setScrollBarVisible",value:function(e,n){e.showCondition===t.ScrollBarCondition.Always?e.visible=!0:e.showCondition===t.ScrollBarCondition.OnlyIfNeeded?e.visible=!(n>=1):e.visible=!1}},{key:"die",value:function(){for(var e=0,n=this._ll_items.length;e<n;e++)this._ll_items[e].die(),this._ll_items[e].removeAllChild();this._ll_items.length=0,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();E.PULL_TO_REFRESH="pull_to_refresh",E.DragEffects={None:"none",Momentum:"momentum",MomentumAndSpring:"momentumAndSpring"},E.Direction={Horizontal:"horizontal",Vertical:"vertical",Unrestricted:"unrestricted"},E.ScrollBarCondition={Always:"always",OnlyIfNeeded:"onlyIfNeeded",WhenDragging:"whenDragging"};var x=t.LListScrollBar=function(e){function t(e,n,o){m(this,t);var i=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=i;return a.background=e||new v.default("#333333",8,8),a.addChild(a.background),a.foreground=n||new v.default("#CCCCCC",8,8),a.addChild(a.foreground),a.showCondition=o||E.ScrollBarCondition.OnlyIfNeeded,i}return O(t,r.default),i(t,[{key:"resizeWidth",value:function(e){this.background.cacheAsBitmap(!1),this.background.resize(e,this.background.getSize().height),this.background.cacheAsBitmap(!0)}},{key:"resizeHeight",value:function(e){this.background.cacheAsBitmap(!1),this.background.resize(this.background.getSize().width,e),this.background.cacheAsBitmap(!0)}},{key:"setWidthScale",value:function(e){this.foreground.cacheAsBitmap(!1),this.foreground.resize(this.background.getSize().width*e,this.foreground.getSize().height),this.foreground.cacheAsBitmap(!0)}},{key:"setHeightScale",value:function(e){this.foreground.cacheAsBitmap(!1),this.foreground.resize(this.foreground.getSize().width,this.background.getSize().height*e),this.foreground.cacheAsBitmap(!0)}},{key:"setX",value:function(e){e<0?e=0:e>1&&(e=1),this.foreground.x=(this.background.getSize().width-this.foreground.getSize().width)*e}},{key:"setY",value:function(e){e<0?e=0:e>1&&(e=1),this.foreground.y=(this.background.getSize().height-this.foreground.getSize().height)*e}}]),t}(),L=(t.LListChildView=function(e){function t(){return m(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return O(t,r.default),i(t,[{key:"die",value:function(){this.cacheAsBitmap(!1),this.removeAllChild(),this.ll_baseBitmap=null,this.ll_baseRectangle=null,this.ll_basePoint=null,this._ll_cacheAsBitmap=null,this._canvas=null,this._context=null,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"updateView",value:function(e,t,n){if(this._ll_cacheAsBitmap||c.default.LGlobal.enableWebGL||this.cacheAsBitmap(!0),e&&(this.ll_baseBitmap=e,this.ll_baseRectangle=t,this.ll_basePoint=n),this.ll_baseBitmap&&!(this.ll_basePoint.x>this.ll_baseBitmap.bitmapData.width||this.ll_basePoint.y>this.ll_baseBitmap.bitmapData.height||this.ll_basePoint.x+this.ll_baseRectangle.width<0||this.ll_basePoint.y+this.ll_baseRectangle.height<0)){var o=this.ll_baseBitmap.parent;if(!e){for(var i=-1,a=o.getItems(),r=void 0,l=void 0,u=0,f=a.length;u<f;u++)if(a[u]&&a[u].objectIndex===this.objectIndex){i=u;break}if(i<0)return;if(o.arrangement===E.Direction.Horizontal?(r=i%o.maxPerLine*o.cellWidth,l=(i/o.maxPerLine>>>0)*o.cellHeight):(r=(i/o.maxPerLine>>>0)*o.cellWidth,l=i%o.maxPerLine*o.cellHeight),!(o.clipping.x<=r&&o.clipping.x+o.clipping.width>r&&o.clipping.y<=l&&o.clipping.y+o.clipping.height>l))return;this.ll_basePoint.x=r-o.clipping.x,this.ll_basePoint.y=l-o.clipping.y,c.default.LGlobal.enableWebGL||this.ll_baseBitmap.bitmapData.clear(new s.default(this.ll_basePoint.x,this.ll_basePoint.y,this.ll_baseRectangle.width,this.ll_baseRectangle.height))}if(c.default.LGlobal.enableWebGL)return this.x=this.ll_basePoint.x+o.clipping.x,this.y=this.ll_basePoint.y+o.clipping.y,void(this.visible=!0);this.ll_baseBitmap.bitmapData.copyPixels(this._ll_cacheAsBitmap.bitmapData,this.ll_baseRectangle,this.ll_basePoint)}}},{key:"onClick",value:function(e){}},{key:"onTouch",value:function(e){}}]),t}(),function(e){function t(e,n,o){m(this,t);var i=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=i;a.graphics.drawRect(0,"#000000",[-10,-10,20,20]),a.listView=e,a.sx=a.x=c.default.LGlobal.offsetX,a.sy=a.y=c.default.LGlobal.offsetY,a.vx=a.listView.clipping.x,a.vy=a.listView.clipping.y,a.pullToRefreshX=a.pullToRefreshY=0;var r=a.listView.getRootMatrix();return a.needChangeToLocal=0!==r.b||0!==r.c,a.vPoint=new h.default(a.x,a.y),a.needChangeToLocal&&(a.vPoint=a.listView.globalToLocal(a.vPoint)),a.selfX=n,a.selfY=o,c.default.LGlobal.listViewDragObject&&c.default.LGlobal.listViewDragObject.remove(),a.horizontalStop=!0,a.verticalStop=!0,e.movement===E.Direction.Unrestricted?a.horizontalStop=a.verticalStop=!1:e.movement===E.Direction.Horizontal?(a.horizontalStop=!1,a.verticalStop=!0):e.movement===E.Direction.Vertical&&(a.horizontalStop=!0,a.verticalStop=!1),e.dragStart(),c.default.LGlobal.listViewDragObject=a,a.addEventListener(d.default.MOUSE_UP,a._ll_onup),a.addEventListener(f.default.ENTER_FRAME,a._ll_onframe),c.default.LGlobal.stage.addEventListener(y.default.FOCUS_OUT,a._ll_focusout),i}return O(t,r.default),i(t,[{key:"_ll_onup",value:function(e){e.currentTarget._ll_stop()}},{key:"_ll_focusout",value:function(e){var t=c.default.LGlobal.listViewDragObject;t&&t._ll_stop()}},{key:"_ll_stop",value:function(){if(!this.isDeleted){var e=this.listView;if(e.dragEnd(),this.stopDrag(),this.isDeleted=!0,Math.abs(c.default.LGlobal.offsetX-this.sx)<5&&Math.abs(c.default.LGlobal.offsetY-this.sy)<5&&e.clickOnChild(c.default.LGlobal.offsetX-this.sx+this.selfX,c.default.LGlobal.offsetY-this.sy+this.selfY),e.dragEffect!==E.DragEffects.None){var t=this.inertia();if(0!==this.pullToRefreshX||0!==this.pullToRefreshY){var n=new f.default(E.PULL_TO_REFRESH);n.pullToRefreshX=this.pullToRefreshX,n.pullToRefreshY=this.pullToRefreshY,e.dispatchEvent(n)}t||this._ll_tween()}}}},{key:"inertia",value:function(){var e=this,n=e.listView;o(e.fX)===p.UNDEFINED&&(e.fX=n.clipping.x,e.fY=n.clipping.y);var i=n.clipping.x-e.fX,a=n.clipping.y-e.fY;if(Math.abs(i)<5&&(i=0),Math.abs(a)<5&&(a=0),0===i&&0===a)return!1;var r=n.clipping.x,l=n.clipping.y;return 0!==i&&(r+=5*i),0!==a&&(l+=5*a),n.dragEffect===E.DragEffects.Momentum&&(r<0?r=0:r>n.allWidth&&(r=n.allWidth),l<0?l=0:l>n.allHeight&&(l=n.allHeight)),t.listToPosition(n,r,l,function(){e.tweenComplete()}),!0}},{key:"tweenComplete",value:function(){this.dragAmend()}},{key:"_ll_tween",value:function(){t.listToPosition(this.listView,this.toX,this.toY)}},{key:"_ll_onframe",value:function(e){var t=e.currentTarget;if(t.isDeleted)return t.remove(),void(c.default.LGlobal.listViewDragObject=null);var n=t.listView;t.fX=t.toX=n.clipping.x,t.fY=t.toY=n.clipping.y,t.nPoint=new h.default(t.x,t.y),t.needChangeToLocal&&(t.nPoint=t.listView.globalToLocal(t.nPoint)),t.horizontalStop||(n.clipping.x=t.vPoint.x-t.nPoint.x+t.vx),t.verticalStop||(n.clipping.y=t.vPoint.y-t.nPoint.y+t.vy),t.dragAmend()}},{key:"dragAmend",value:function(){var e=void 0,n=!1;this.listView?(e=this.listView,n=!0):e=this.parent;var o=e.clipping.x,i=e.clipping.y;if(this.pullToRefreshX=this.pullToRefreshY=0,e.clipping.x<0)n?e.dragEffect===E.DragEffects.MomentumAndSpring?(e.clipping.x*=.5,this.toX=0,this.pullToRefreshX=e.clipping.x-o):e.clipping.x=0:o=0;else{var a=e._ll_items.length,r=void 0;(r=e.arrangement===E.Direction.Horizontal?(a>e.maxPerLine?e.maxPerLine:a)*e.cellWidth:Math.ceil(a/e.maxPerLine)*e.cellWidth)<=e.clipping.width?n?e.clipping.x=0:o=0:e.clipping.x>r-e.clipping.width&&(n?e.dragEffect===E.DragEffects.MomentumAndSpring?(this.toX=r-e.clipping.width,e.clipping.x=this.toX+.5*(e.clipping.x-r+e.clipping.width),this.pullToRefreshX=e.clipping.x-o):e.clipping.x=r-e.clipping.width:o=r-e.clipping.width)}if(e.clipping.y<0)n?e.dragEffect===E.DragEffects.MomentumAndSpring?(e.clipping.y*=.5,this.toY=0,this.pullToRefreshY=e.clipping.y-i):e.clipping.y=0:i=0;else{var l=e._ll_items.length,u=void 0;(u=e.arrangement===E.Direction.Horizontal?Math.ceil(l/e.maxPerLine)*e.cellHeight:(l>e.maxPerLine?e.maxPerLine:l)*e.cellHeight)<=e.clipping.height?n?e.clipping.y=0:i=0:e.clipping.y>u-e.clipping.height&&(n?e.dragEffect===E.DragEffects.MomentumAndSpring?(this.toY=u-e.clipping.height,e.clipping.y=this.toY+.5*(e.clipping.y-u+e.clipping.height),this.pullToRefreshY=e.clipping.y-i):e.clipping.y=u-e.clipping.height:i=u-e.clipping.height)}n||o===e.clipping.x&&i===e.clipping.y||t.listToPosition(e,o,i)}}]),t}());L.listToPosition=function(e,t,n,o){if(e.centerOn){var i=-e.clipping.width%e.cellWidth/2,a=-e.clipping.height%e.cellHeight/2,r=void 0,l=void 0;r=t%e.cellWidth>.5*e.cellWidth?Math.ceil(t/e.cellWidth):Math.floor(t/e.cellWidth),l=n%e.cellHeight>.5*e.cellHeight?Math.ceil(n/e.cellHeight):Math.floor(n/e.cellHeight),t=i+r*e.cellWidth,n=a+l*e.cellHeight}b.default.to(e.clipping,.3,{x:t,y:n,ease:g.default.Sine.easeOut,onComplete:o})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=c(n(11)),r=c(n(10)),l=n(47),u=c(n(15)),s=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._listView=new l.LListView,this.addChild(this._listView)}},{key:"updateView",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var n=this.getByPath(this.bind.key);if(null!==n){var o=this._listView;for(var a in this.listView){var u=this.listView[a];switch(a){case"size":o.resize(u.width,u.height);break;case"maxPerLine":case"cellWidth":case"cellHeight":o[a]=u}}o.scrollBarHorizontal.showCondition,l.LListView.ScrollBarCondition.Always,o.scrollBarVertical.showCondition,l.LListView.ScrollBarCondition.Always,o.arrangement=l.LListView.Direction.Horizontal,o.movement=l.LListView.Direction.Vertical;var s=this.bind.childPrefab;return r.default.loadPrefab(s).then(function(t){var o=!0,i=!1,a=void 0;try{for(var r,l=n[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var u=r.value;e.createListObject(t,u)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}})}}},{key:"createListObject",value:function(e,t){var n=new l.LListChildView;this.model=t;var o=u.default.create(e);n.addChild(o),o.updateWidget(t),this._listView.insertChildView(n)}}]),t}();s.default.set("BindListView",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=f(n(11)),r=f(n(2)),l=f(n(13)),u=f(n(14)),s=f(n(26)),c=f(n(3));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bitmap=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.bind.default&&this._loadTexture(this.bind.default)}},{key:"_loadTexture",value:function(e){var t=this;e="resources/"+e;var n=s.default.get(e);if(n)this._updateBitmapData(n);else{var o=new s.default;o.addEventListener(c.default.COMPLETE,function(e){t._updateBitmapData(e.target)}),o.load(e)}}},{key:"_updateBitmapData",value:function(e){var t=new u.default(e);null===this._bitmap?(this._bitmap=new l.default(t),this.addChild(this._bitmap)):this._bitmap.bitmapData=t}},{key:"updateView",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind&&this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&this._loadTexture(e)}}}]),t}();r.default.set("BindTextureView",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=d(n(5)),r=d(n(19)),l=d(n(4)),u=d(n(7)),s=n(0),c=d(n(1)),f=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=a;return u.type="LButton",u.addChild(e),n?u.addChild(n):n=e,o?u.addChild(o):o=n,i?u.addChild(i):i=e,u.upState=u.bitmap_up=e,u.overState=u.bitmap_over=n,u.downState=o,u.disableState=i,u._ll_down_sx=u.downState.scaleX,u._ll_down_sy=u.downState.scaleY,u.overState.visible=!1,u.downState.visible=!1,u.upState.visible=!0,u.buttonMode=!0,u.staticMode=!1,u.setState(t.STATE_ENABLE),r.default.container[l.default.MOUSE_MOVE]&&r.default.pushButton(u),u.addEventListener(l.default.MOUSE_DOWN,u.ll_modeDown),u.setCursorEnabled(!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"setState",value:function(e){var n=this;if(e===t.STATE_DISABLE)n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!0,n.mouseEnabled=!1;else{if(e!==t.STATE_ENABLE)return;n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!1,n.upState.visible=!0,n.mouseEnabled=!0}n.state=e}},{key:"ll_mouseout",value:function(e,t,n,o,i){var a=this;a.ll_mousein&&(e.clickTarget=a,a.ll_modeOut(e),a.ll_mousein=!1)}},{key:"mouseEvent",value:function(e,n,o){if(!e)return!1;u.default.os===s.OS_PC&&n===l.default.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mouseEvent",this).call(this,e,n,o)}},{key:"ll_button_mode",value:function(e){var t=this;t.visible&&(e.clickTarget=t,t.hitTestPoint(e.offsetX,e.offsetY)?t.ll_modeOver(e):t.ll_modeOut(e))}},{key:"ll_modeDown",value:function(e){var n,o=e.clickTarget,i=void 0,a=void 0,r=void 0,l=void 0,u=void 0,s=void 0,d=void 0,h=void 0;if(o.buttonMode&&!o.tween){if(o.state===t.STATE_DISABLE)return o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!1,void(o.disableState.visible=!0);o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!0,o._tweenOver=o.ll_modeOver,n=function(e){var t=e.target.parent;t&&t.tween&&(delete t.tween,t._tweenOver({clickTarget:t}),delete t._tweenOver)},o.staticMode?o.tween=c.default.LTweenLiteTimeline.to(o.downState,.3,{}).to(o.downState,.1,{onComplete:n}):(r=1.1*(i=o.downState.getWidth()),l=1.1*(a=o.downState.getHeight()),d=(u=o.downState.x)+.5*(i-r),h=(s=o.downState.y)+.5*(a-l),o.tween=c.default.LTweenLiteTimeline.to(o.downState,.3,{x:d,y:h,scaleX:1.1*o._ll_down_sx,scaleY:1.1*o._ll_down_sy,ease:f.default.Quart.easeOut}).to(o.downState,.1,{x:u,y:s,scaleX:o._ll_down_sx,scaleY:o._ll_down_sy,ease:f.default.Quart.easeOut,onComplete:n}))}}},{key:"ll_modeOver",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOver;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.upState.visible=!1,n.downState.visible=!1,n.overState.visible=!0}}},{key:"ll_modeOut",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOut;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.overState.visible=!1,n.downState.visible=!1,n.upState.visible=!0}}},{key:"setCursorEnabled",value:function(e){this.useCursor=e?"pointer":null}},{key:"clone",value:function(){var e=this;return new t(e.upState.clone(),e.overState.clone(),e.downState.clone(),e.disableState.clone())}},{key:"die",value:function(){r.default.container[l.default.MOUSE_MOVE]&&r.default.removeButton(this),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();h.STATE_DISABLE="disable",h.STATE_ENABLE="enable",t.default=h},function(e,t,n){"use strict";function o(){throw"LTextEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TEXT_INPUT="textInput",o.WIND_COMPLETE="windComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(9),r=(o=a)&&o.__esModule?o:{default:o};var l=function(e){function t(e,n,o,i,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=l;return u.font=e||"Arial",u.size=n||15,u.color=o||"#000000",u.bold=i||!1,u.italic=a||!1,u.underline=r||!1,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"clone",value:function(){var e=new this.constructor;return e.copyProperty(this),e}},{key:"getFontText",value:function(){var e=this;return(e.italic?"italic ":"")+(e.bold?"bold ":"")+e.size+"px "+e.font}},{key:"setCss",value:function(e){var t=this,n=void 0;for(n in e)switch(n){case"color":t.color=e[n];break;case"font-family":t.font=e[n];break;case"font-size":t.size=e[n];break;case"font-style":t.italic="italic"===e[n];break;case"font-weight":t.bold="bold"===e[n];break;case"text-decoration":t.color="underline"===e[n]}}}]),t}();t.default=l},function(e,t,n){"use strict";function o(){throw"LTextFieldType cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.INPUT="input",o.DYNAMIC=null,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=g(n(28)),r=g(n(32)),l=g(n(53)),u=g(n(52)),s=g(n(5)),c=g(n(19)),f=g(n(4)),d=g(n(3)),h=g(n(35)),p=g(n(25)),v=g(n(51)),y=n(0),b=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LTextField",n.texttype=null,n.text="",n.htmlText="",n.styleSheet="",n.font="Arial",n.size=15,n.color="#000000",n.weight="normal",n.textAlign="left",n.textBaseline="top",n.heightMode=t.HEIGHT_MODE_BOTTOM,n.stroke=!1,n.lineWidth=1,n.lineColor="#000000",n.width=150,n.height=n.size,n.displayAsPassword=!1,n.wordWrap=!1,n.multiline=!1,n.numLines=1,n.speed=0,n._speedIndex=100,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"_showReady",value:function(e){var t=this;e.font=t.weight+" "+t.size+"px "+t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.fillStyle=t.color,t.stroke&&(e.strokeStyle=t.lineColor,e.lineWidth=t.lineWidth+1)}},{key:"ll_getStyleSheet",value:function(e,t,n,o){var i=this,a=e.clone();if("font"===t)for(var r=0;n&&!(r++>4);){var l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(!l||!l[0])break;switch(l[2]){case"face":a.font=l[6];break;case"color":a.color=l[6];break;case"size":a.size=l[6]}n=n.replace(l[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}else if("b"===t)a.bold=!0;else if("u"===t)a.underline=!0;else if("i"===t)a.italic=!0;else if("p"===t&&i.wordWrap)o="\n"+o+"\n";else if(i.styleSheet){var u=void 0;if("span"===t){var s=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(s&&s[0])switch(s[2]){case"class":u=i.styleSheet.getStyle("."+s[6])}}else i.styleSheet.getStyle(t)&&(u=i.styleSheet.getStyle(t));u&&a.setCss(u)}i.ll_getHtmlText(a,o)}},{key:"ll_getHtmlText",value:function(e,t){if(t){var n,o,i=this,a=void 0,r=void 0,l=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(t);if(l&&l[0]){l.index>0&&i.ll_htmlTexts.push({textFormat:e.clone(),text:t.substring(0,l.index)}),n=l[1],r=a=l.index;do{r=t.indexOf("</"+n,r+1),a=t.indexOf("<"+n,a+1)}while(a>0&&a<r);o=t.substring(t.indexOf(">",l.index)+1,r),i.ll_getStyleSheet(e,n,l[3],o),i.ll_getHtmlText(e,t.substring(r+n.length+3))}else i.ll_htmlTexts.push({textFormat:e.clone(),text:t})}}},{key:"_ll_show",value:function(e){var n=this,o=void 0,i=void 0,a=void 0,r=void 0,s=void 0,c=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0;if(n.texttype===l.default.INPUT){if(n.inputBackLayer.ll_show(),r=n.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+n.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((r.y+n.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((r.x+n.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px"),b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex===n.objectIndex)return;o.clip()}if(b.default.LGlobal.fpsStatus&&b.default.LGlobal.fpsStatus.text++,b.default.LGlobal.enableWebGL?(n._createCanvas(),n._canvas.width=b.default.LGlobal.width,n._canvas.height=b.default.LGlobal.height,n._showReady(n._context),o=n._context):o=e,n.htmlText)return(n.ll_htmlText!==n.htmlText||n.styleSheet&&(n.ll_style_objectIndex!==n.styleSheet.objectIndex||n.ll_styleIndex===n.styleSheet.styleIndex))&&(p=new u.default,n.ll_htmlTexts=[],n.ll_htmlText=n.htmlText,n.styleSheet&&(n.ll_style_objectIndex=n.styleSheet.objectIndex,n.ll_styleIndex=n.styleSheet.styleIndex),n.ll_getHtmlText(p,n.htmlText)),s=0,f=0,d=0,n._ll_height=n.wordHeight||30,t.underlineY||(t.underlineY={alphabetic:0,top:1,bottom:-.2,middle:.4,hanging:.8}),n.ll_htmlTexts.forEach(function(e){var i=e.textFormat,r=e.text;for(o.font=i.getFontText(),o.fillStyle=i.color,a=0,c=r.length;a<c;a++)/(?:\r\n|\r|\n|n)/.exec(r.substr(a,1))?(s=0,f=a+1,d++):(h=1.2*o.measureText("O").width,n.stroke&&o.strokeText(r.substr(a,1),s,d*n._ll_height),o.fillText(r.substr(a,1),s,d*n._ll_height),i.underline&&(o.beginPath(),v=d*n._ll_height+h*t.underlineY[n.textBaseline],o.moveTo(s,v),o.lineTo(s+o.measureText(r.substr(a,1)).width,v),o.stroke())),s+=o.measureText(r.substr(a,1)).width,n.wordWrap&&s+o.measureText(r.substr(a+1,1)).width>n.width&&(s=0,f=a+1,d++);n.height=(d+1)*n._ll_height}),void(b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0));if(i=n.text,n.displayAsPassword)for(i="",a=0,c=n.text.length;a<c;a++)i+="*";if(n.wordWrap||n.multiline){for(s=0,f=0,d=0,a=0,c=n.text.length;a<c;a++)/(?:\r\n|\r|\n|n)/.exec(i.substr(a,1))?(s=0,f=a+1,d++):(n.stroke&&o.strokeText(i.substr(a,1),s,d*n.wordHeight),o.fillText(i.substr(a,1),s,d*n.wordHeight)),n.numLines=d,s=o.measureText(n.text.substr(f,a+1-f)).width,n.wordWrap&&s+o.measureText(i.substr(a,1)).width>n.width&&(s=0,f=a+1,d++);n.height=(d+1)*n.wordHeight}else n.numLines=1,n.stroke&&o.strokeText(i,0,0,o.measureText(i).width),o.fillText(i,0,0,o.measureText(i).width);b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0),n.windRunning&&n._ll_windRun()}},{key:"_wordHeight",value:function(e){var t=this;e>0?t.wordHeight=e:(t.wordWrap=!1,t.wordHeight=t.getHeight()),t.height=0}},{key:"setMultiline",value:function(e,t){e&&this._wordHeight(t),this.multiline=e}},{key:"setWordWrap",value:function(e,t){e&&this._wordHeight(t),this.wordWrap=e}},{key:"setType",value:function(e,t){var n=this;n.texttype!==e&&e===l.default.INPUT?(t&&t instanceof s.default?n.inputBackLayer=t:(n.inputBackLayer=new s.default,n.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-n.getHeight(),n.width,1.5*n.getHeight()])),n.inputBackLayer.parent=n,c.default.container[f.default.MOUSE_DOWN]&&c.default.pushInputBox(n)):(n.inputBackLayer=null,c.default.removeInputBox(n)),n.texttype=e}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!!n.visible&&(t||(t={x:0,y:0,scaleX:1,scaleY:1}),!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&(n.inputBackLayer?n.inputBackLayer.ismouseon(e,{x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY}):n.ismouseonShapes([{type:r.default.RECT,arg:[0,0,n._getWidth(),n._getHeight()]}],e.offsetX,e.offsetY))))}},{key:"clone",value:function(){var e=this,t=new e.constructor;return t.copyProperty(e),t.texttype=null,e.texttype===l.default.INPUT&&t.setType(l.default.INPUT),t}},{key:"mouseEvent",value:function(e,t,n){var o=this;o.inputBackLayer&&t===f.default.MOUSE_DOWN&&o.ismouseon(e,n)&&o.focus()}},{key:"_ll_getValue",value:function(){b.default.LGlobal.inputBox.style.display!==y.NONE&&(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,d.default.removeEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),b.default.LGlobal.inputBox.style.display=y.NONE,o(b.default.LGlobal.inputTextField.preventDefault)!==y.UNDEFINED&&(b.default.LGlobal.preventDefault=b.default.LGlobal.inputTextField.preventDefault),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null)}},{key:"updateInput",value:function(){this.texttype===l.default.INPUT&&b.default.LGlobal.inputTextField.objectIndex===this.objectIndex&&(b.default.LGlobal.inputTextBox.value=b.default.LGlobal.inputTextField.text)}},{key:"_ll_input",value:function(e){var t=new d.default(v.default.TEXT_INPUT);t.keyCode=e.keyCode,b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,b.default.LGlobal.inputTextField.hasEventListener(v.default.TEXT_INPUT)?e.returnValue=b.default.LGlobal.inputTextField.dispatchEvent(t):e.returnValue=!0}},{key:"focus",value:function(){var e,t,n,o=this,i=void 0;o.parent&&o.texttype===l.default.INPUT&&(b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex!==o.objectIndex&&o._ll_getValue(),o.dispatchEvent(p.default.FOCUS_IN),e=o.getAbsoluteScale(),b.default.LGlobal.inputBox.style.display="",b.default.LGlobal.inputBox.name="input"+o.objectIndex,b.default.LGlobal.inputTextField=o,b.default.LGlobal.inputTextareaBoxObj.style.display=y.NONE,b.default.LGlobal.inputTextBoxObj.style.display=y.NONE,b.default.LGlobal.passwordBoxObj.style.display=y.NONE,o.displayAsPassword?b.default.LGlobal.inputTextBox=b.default.LGlobal.passwordBoxObj:o.multiline?b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextareaBoxObj:b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextBoxObj,t=parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width,n=parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height,b.default.LGlobal.inputTextBox.style.display="",b.default.LGlobal.inputTextBox.value=o.text,b.default.LGlobal.inputTextBox.style.height=o.inputBackLayer.getHeight()*e.scaleY*o.scaleY*n+"px",b.default.LGlobal.inputTextBox.style.width=o.inputBackLayer.getWidth()*e.scaleX*o.scaleX*t+"px",b.default.LGlobal.inputTextBox.style.color=o.color,b.default.LGlobal.inputTextBox.style.fontSize=(o.size*parseFloat(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>0)+"px",b.default.LGlobal.inputTextBox.style.fontFamily=o.font,d.default.addEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),o.texttype===l.default.INPUT&&(i=o.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+o.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((i.y+o.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((i.x+o.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){b.default.LGlobal.ios&&(o.preventDefault=b.default.LGlobal.preventDefault,b.default.LGlobal.preventDefault=!1),b.default.LGlobal.inputTextBox.focus()},0))}},{key:"_getWidth",value:function(){var e=this;if(e.wordWrap)return e.width;b.default.LGlobal.enableWebGL&&this._createCanvas();var t=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas;return t.font=e.size+"px "+e.font,t.measureText(e.text).width}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,i=void 0;return t=n._getWidth()*n.scaleX,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(i=n.mask.getWidth())>t?t-o:i:t}},{key:"_startX",value:function(e){var t=this;if("left"===t.textAlign)return t.x;var n=t.getWidth(e);return t.x+("right"===t.textAlign?-n:.5*-n)}},{key:"_getHeight",value:function(){var e=this;b.default.LGlobal.enableWebGL&&this._createCanvas();var n=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas,o=void 0,i=void 0,a=void 0,r=void 0,l=void 0;if(e.wordWrap){if(n.font=e.weight+" "+e.size+"px "+e.font,0===e.height){for(a=0,r=0,l=0,o=0,i=e.text.length;o<i;o++)/(?:\r\n|\r|\n|n)/.exec(e.text.substr(o,1))&&(a=0,r=o+1,l++),a=n.measureText(e.text.substr(r,o+1-r)).width,e.wordWrap&&a+n.measureText(e.text.substr(o+1,1)).width>e.width&&(a=0,r=o+1,l++);e.height=(l+1)*e.wordHeight}return e.height}return n.font=e.weight+" "+e.size+"px "+e.font,i=1.2*n.measureText("O").width,e.heightMode===t.HEIGHT_MODE_BASELINE&&(i*=1.2),i}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,i=void 0;return t=n._getHeight()*n.scaleY,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(i=n.mask.getHeight())>t?t-o:i:t}},{key:"wind",value:function(e){var t=this;t.wind_over_function=e,t.windRunning=!0,t._ll_wind_text=t.text,t.text="",t._ll_wind_length=0}},{key:"_ll_windRun",value:function(){var e=this;if(!(e._speedIndex++<e.speed)){if(e._speedIndex=0,e._ll_wind_length>e._ll_wind_text.length)return e.windRunning=!1,e.wind_over_function&&e.wind_over_function(),void e.dispatchEvent(new d.default(v.default.WIND_COMPLETE));e.text=e._ll_wind_text.substring(0,e._ll_wind_length),e._ll_wind_length++}}},{key:"windComplete",value:function(){var e=this;e._speedIndex=e.speed,e.text=e._ll_wind_text,e._ll_wind_length=e._ll_wind_text.length+1,e._ll_windRun()}},{key:"die",value:function(){c.default.removeInputBox(this)}}]),t}();_.HEIGHT_MODE_BOTTOM="bottom",_.HEIGHT_MODE_BASELINE="baseline",t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=u(n(11)),r=u(n(54)),l=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._label=new r.default,this.addChild(this._label),this.textField)for(var e in this.textField)this._label[e]=this.textField[e];this.bind.default&&(this._label.text=this.bind.default)}},{key:"updateView",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&(this._label.text=e)}}}]),t}();l.default.set("BindTextView",s),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0},a=u(n(11)),r=u(n(23)),l=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.sprite||(this.sprite={type:"simple",width:0,height:0}),this.bind.default&&this._updateSprite(this.bind.default)}},{key:"resize",value:function(e,t){this.sprite.width=e,this.sprite.height=t,this.getChildAt(0).resize(e,t)}},{key:"updateView",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind&&this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&this._updateSprite(e)}}},{key:"_updateSprite",value:function(e){var t=r.default.get(this.bind.atlas);this.removeAllChild();var n=t.getSprite(e,this.sprite.type,this.sprite.width,this.sprite.height);n&&this.addChild(n)}}]),t}();l.default.set("BindSpriteView",s),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(15)),r=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"init",value:function(){var e=this;(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),setTimeout(function(){e.widget&&r.default.currentScene&&r.default.currentScene.nextFrameExecute(function(){e.widgetInit()})})}},{key:"getTarget",value:function(e){for(var t=this.parent;t;){if(e){if(t._ll_className===e)return t}else if(t.isController)return t;if("object"!==(void 0===(t=t.parent)?"undefined":o(t)))break}return null}},{key:"getValue",value:function(e){var t=this.bind.target,n=this.getTarget(t);return n?n.isController?n.dispatcher[e]:n.model?n.model[e]:null:null}},{key:"getByPath",value:function(e){if(e.indexOf(".")<0)return this.getValue(e)||null;var t=e.split("."),n=this.getValue(t[0]);if(!n)return null;for(var o=1;o<t.length;o++){if(null===(n=n[t[o]]))break}return n}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(11)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"updateWidget",value:function(e){this.model=e;var t=!0,n=!1,o=void 0;try{for(var i,a=this.childList[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.updateView()}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}}}]),t}();a.default.set("BindListChildView",l),t.default=l},function(e,t,n){"use strict";function o(){throw"LStageScaleMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.EXACT_FIT="exactFit",o.SHOW_ALL="showAll",o.NO_BORDER="noBorder",o.NO_SCALE="noScale",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(12),r=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=.3}return i(e,[{key:"fadeAnimation",value:function(e,t){t.alpha=0,e&&r.default.to(e,this.duration,{alpha:0,onComplete:function(e){e.target.remove()}}),r.default.to(t,this.duration,{alpha:1})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(60)),a=l(n(12)),r=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"changePanel",value:function(e,t,n){"fade"===n?this.fadeAnimation(e,t):"left"===n?this.leftAnimation(e,t):"right"===n&&this.rightAnimation(e,t)}},{key:"leftAnimation",value:function(e,t){t.x=-r.default.width,a.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x+r.default.width},onComplete:function(n){e.x=t.x+r.default.width,e.remove()}})}},{key:"rightAnimation",value:function(e,t){t.x=r.default.width,a.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x-r.default.width},onComplete:function(n){e.x=t.x-r.default.width,e.remove()}})}}]),t}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SIMPLE:"simple",SLICED:"sliced"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(5)),a=s(n(14)),r=s(n(13)),l=s(n(62)),u=s(n(33));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.atlasType=i,a._rotated=o.rotated,i!==l.default.SIMPLE&&n){if(i===l.default.SLICED){var r=a._getPanel(e,n,o);a.addChild(r)}}else{a.atlasType=l.default.SIMPLE;var u=a._getBitmap(e,o);a.addChild(u)}return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"resize",value:function(e,t){if(this.atlasType===l.default.SIMPLE){var n=this.getChildAt(0),o=n.getChildAt(0),i=this._rotated?o.bitmapData.getHeight():o.bitmapData.getWidth(),a=this._rotated?o.bitmapData.getWidth():o.bitmapData.getHeight();n.scaleX=e/i,n.scaleY=t/a}else if(this.atlasType===l.default.SLICED){var r=this.getChildAt(0);this._rotated?(r.resize(t,e),r.y=t):r.resize(e,t)}}},{key:"_getBitmapData",value:function(e,t){var n=t.frame[0][0],o=t.frame[0][1],i=t.frame[1][t.rotated?1:0],r=t.frame[1][t.rotated?0:1];return new a.default(e,n,o,i,r)}},{key:"_getBitmap",value:function(e,t){var n=this._getBitmapData(e,t),o=new r.default(n);o.rotateCenter=!1,t.rotated&&(o.y=n.getWidth(),o.rotate=-90);var a=new i.default;return a.addChild(o),a}},{key:"_getPanel",value:function(e,t,n){var o=this._getBitmapData(e,n),i=o.getWidth(),a=o.getHeight(),r=n.rotated?t.bottom:t.left,l=i-(n.rotated?t.top:t.right),s=n.rotated?t.left:t.top,c=a-(n.rotated?t.right:t.bottom),f=new u.default(o,i,a,r,l,s,c);return n.rotated&&(f.y=i,f.rotate=-90),f}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(21)),r=c(n(7)),l=n(0),u=c(n(3)),s=c(n(24));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.length=0,e.loopIndex=0,e.loopLength=1,e.playing=!1,e.oncomplete=null,e.onsoundcomplete=null,e.currentStart=0,s.default.Container.add(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"onload",value:function(){var e=this;if(e.data.readyState){e.length=e.data.duration-(r.default.android?.1:0);var t=new u.default(u.default.COMPLETE);return t.currentTarget=e,t.target=e.data,void e.dispatchEvent(t)}e.data.addEventListener("error",function(t){var n=new u.default(u.default.ERROR);n.currentTarget=e,n.target=t.target,n.responseURL=t.target.src,e.dispatchEvent(n)},!1),e.data.addEventListener("canplaythrough",function(){e.onload()},!1)}},{key:"_onended",value:function(){var e=this,t=void 0;e.dispatchEvent(u.default.SOUND_COMPLETE),++e.loopIndex<e.loopLength?(t=e.loopIndex,e.close(),e.play(e.currentStart,e.loopLength,e.currentTimeTo),e.loopIndex=t):e.close()}},{key:"load",value:function(e){var t=this;if("[object HTMLAudioElement]"===Object.prototype.toString.apply(e))return t.data=e,void t.onload();var n=void 0,o=void 0,i=void 0,a=void 0,r={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(n=e.split(","),i=0;i<n.length;i++){if((a=r[a=(o=n[i].split("."))[o.length-1]]?r[a]:[a]).some(function(e,n,o){return t.data.canPlayType(t._type+"/"+e)}))return t.data.src=n[i],t.onload(),void t.data.load();console.warn("Not support "+o[o.length-1]+" : "+n[i]);var l=new u.default(u.default.COMPLETE);l.currentTarget=l.target=t,t.dispatchEvent(l)}t.oncomplete&&t.oncomplete({})}},{key:"getCurrentTime",value:function(){return this.data.currentTime}},{key:"setVolume",value:function(e){this.data.volume=e}},{key:"getVolume",value:function(){return this.data.volume}},{key:"play",value:function(e,t,n){var i=this;0!==i.length&&(r.default.android&&s.default.Container.stopOther(this),(void 0===e?"undefined":o(e))!==l.UNDEFINED&&(i.data.currentTime=e,i.currentStart=e),(void 0===t?"undefined":o(t))!==l.UNDEFINED&&(i.loopLength=t),(void 0===n?"undefined":o(n))!==l.UNDEFINED?i.currentTimeTo=n>i.length?i.length:n:i.currentTimeTo=i.length,i.timeout&&(clearTimeout(i.timeout),delete i.timeout),i.timeout=setTimeout(function(){i._onended()},1e3*(i.currentTimeTo-i.data.currentTime)),i.data.loop=!1,i.loopIndex=0,i.playing=!0,i.data.play())}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause())}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause(),e.data.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&(e.data.duration!==e._ll_duration&&(e._ll_duration=e.data.duration,e.length=e.data.duration-(r.default.android?.1:0)),e.currentTimeTo<e.data.currentTime+.005*s.default.Container.time&&e._onended())}},{key:"die",value:function(){s.default.Container.remove(this)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(6)),r=c(n(24)),l=c(n(3)),u=n(0),s=c(n(27));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.currentTime=0,n.currentStart=0,n.currentSave=0,n.length=0,n.loopStart=0,n.loopEnd=0,n.loopIndex=0,n.loopLength=1,n.playing=!1,n.volume=1,r.default.Container.add(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getWebAudio",value:function(){var e=void 0;if(t.containerCount>0)e=t.container.shift();else if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==u.UNDEFINED)try{e=new AudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}else{if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))===u.UNDEFINED)throw"AudioContext not supported. :(";try{e=new webkitAudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}}return e.createGainNode||(e.createGainNode=e.createGain),t.container.push(e),e}},{key:"onload",value:function(e){var t=this;if("[object AudioBuffer]"===Object.prototype.toString.apply(e)){t.data||(t.data=t.getWebAudio()),t.buffer=e,t.length=t.buffer.duration;var n=new l.default(l.default.COMPLETE);n.currentTarget=t,n.target=t.buffer,t.dispatchEvent(n)}else t.load(e)}},{key:"_onended",value:function(){var e=this;e.dispatchEvent(l.default.SOUND_COMPLETE),e.close(),++e.loopIndex<e.loopLength&&e.play(e.currentStart,void 0,e.currentTimeTo)}},{key:"load",value:function(e){var n=this;if("string"==typeof e){var o=void 0,i=void 0,a=void 0,r=void 0,u={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(o=e.split(","),a=0;a<o.length;a++){if((r=u[r=(i=o[a].split("."))[i.length-1]]?u[r]:[r]).some(function(e,o,i){return t.audioTag.canPlayType(n._type+"/"+e)}))return s.default.responseType=s.default.ARRAY_BUFFER,s.default.progress=function(e){var t=new l.default(l.default.PROGRESS);t.currentTarget=n,t.target=e.currentTarget,t.loaded=.5*e.loaded,t.total=e.total,t.responseURL=e.responseURL,n.dispatchEvent(t)},void s.default.get(o[a],{},n.onload.bind(n),function(e){var t=new l.default(l.default.ERROR);t.currentTarget=n,t.target=e,t.responseURL=e.responseURL,n.dispatchEvent(t)});console.warn("Not support "+i[i.length-1]+" : "+o[a]);var c=new l.default(l.default.COMPLETE);c.currentTarget=c.target=n,n.dispatchEvent(c)}}else"[object AudioBuffer]"===Object.prototype.toString.apply(e)?n.onload(e):"[object ArrayBuffer]"===Object.prototype.toString.apply(e)&&(n.data||(n.data=n.getWebAudio()),n.data.decodeAudioData(e,n.onload.bind(n),function(e){throw"AudioContext decodeAudioData error : "+e.toString()}))}},{key:"getCurrentTime",value:function(){var e=this;return e.playing?e.data.currentTime-e.currentSave+e.currentTime:e.currentSave}},{key:"setVolume",value:function(e){var t=this;t.volume=e,t.playing&&(t.volumeNode.gain.value=e)}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(e,t,n){var i=this;0!==i.length&&((void 0===t?"undefined":o(t))!==u.UNDEFINED&&(i.loopIndex=0,i.loopLength=t),(void 0===e?"undefined":o(e))!==u.UNDEFINED&&(i.currentTime=e,i.currentStart=e),(void 0===n?"undefined":o(n))!==u.UNDEFINED?i.currentTimeTo=n>i.length?i.length:n:i.currentTimeTo=i.length,i.data.loop=!1,i.playing=!0,i.timeout&&(clearTimeout(i.timeout),delete i.timeout),i.timeout=setTimeout(i._onended.bind(i),1e3*(i.currentTimeTo-i.currentTime)),i.bufferSource=i.data.createBufferSource(),i.bufferSource.buffer=i.buffer,i.volumeNode=i.data.createGainNode(),i.volumeNode.gain.setTargetAtTime=i.volumeNode.gain.setTargetAtTime||i.volumeNode.gain.setTargetValueAtTime||i._setTargetAtTime,i.volumeNode.gain.setValueAtTime(i.volume,i.currentTime,.5),i.volumeNode.connect(i.data.destination),i.bufferSource.connect(i.volumeNode),i.currentSave=i.data.currentTime,i.bufferSource.start?i.bufferSource.start(0,i.currentTime,i.length-i.currentTime):i.bufferSource.noteGrainOn(0,i.currentTime,i.length-i.currentTime))}},{key:"_setTargetAtTime",value:function(e,t,n){this.volumeNode.gain.value=e}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.currentSave=e.getCurrentTime(),e.currentTime=e.currentSave,e.playing=!1)}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.playing=!1,e.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&e.currentTimeTo<e.data.currentTime-e.currentSave+.001*r.default.Container.time&&e._onended()}},{key:"die",value:function(){r.default.Container.remove(this)}}]),t}();f.container=[],f.containerCount=0;try{f.audioTag=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),f.audioTag={canPlayType:function(){return!1}}}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return o(e,[{key:"length",value:function(){var e=this;return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"normalize",value:function(){var t=this,n=t.length();return new e(t.x/n,t.y/n)}},{key:"normR",value:function(){return new e(-this.y,this.x)}},{key:"normL",value:function(){return new e(this.y,-this.x)}}]),e}();i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},i.getMinMax=function(e,t){for(var n=i.dot(e[0],t),o=i.dot(e[0],t),a=0,r=0,l=1;l<e.length;l++){var u=i.dot(e[l],t);n>u&&(n=u,a=l),o<u&&(o=u,r=l)}return{min_o:n,min_i:a,max_o:o,max_i:r}},t.default=i},function(e,t,n){"use strict";function o(){throw"LMultitouchInputMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.NONE="none",o.GESTURE="gesture",o.TOUCH_POINT="touchPoint",t.default=o},function(e,t,n){"use strict";function o(){throw"LMultitouch cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.inputMode="none",o.touchs=[],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(6)),a=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LFontLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(e,t){var n=this,o=void 0,i=void 0,r=void 0,l=void 0,u=void 0,s=void 0,c="";(o=document.createElement("style")).onerror=function(t){var o=new a.default(a.default.ERROR);o.currentTarget=n,o.target=t.target,o.responseURL=e,n.dispatchEvent(o)},l=e.split(",");for(var f=0;f<l.length;f++)"ttf"===(s=(u=l[f].split("."))[u.length-1])?i=l[f]:"eot"===s&&(r=l[f]);c="@font-face { font-family:'"+t+"';",r&&(c+="src: url("+r+");"),i&&(c+="src: local('lufy'),url("+i+") format('opentype');"),o.innerHTML=c,document.querySelector("head").appendChild(o),setTimeout(function(){var e=new a.default(a.default.COMPLETE);e.currentTarget=n,e.target=n,n.dispatchEvent(e)},1)}}]),t}();l.TYPE_FONT="font",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(9)),r=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LGraphics",n.color="#000000",n.alpha=1,n.bitmap=null,n.setList=new Array,n.showList=new Array,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"ll_show",value:function(e){var t=void 0,n=this.setList.length;if(0!==n)for(t=0;t<n;t++)this.setList[t](e),r.default.LGlobal.fpsStatus&&r.default.LGlobal.fpsStatus.graphics++}},{key:"clone",value:function(){var e=this,n=new t,o=void 0,i=void 0,a=void 0;for(n.color=e.color,n.alpha=e.alpha,n.bitmap=e.bitmap,o=0,i=e.setList.length;o<i;o++)a=e.setList[o],n.setList.push(a);for(o=0,i=e.showList.length;o<i;o++)a=e.showList[o],n.showList.push(a);return n}},{key:"lineCap",value:function(e){this.setList.push(function(t){t.lineCap=e})}},{key:"lineJoin",value:function(e){this.setList.push(function(t){t.lineJoin=e})}},{key:"lineWidth",value:function(e){this.setList.push(function(t){t.lineWidth=e})}},{key:"strokeStyle",value:function(e){this.setList.push(function(t){t.strokeStyle=e})}},{key:"stroke",value:function(){this.setList.push(function(e){e.stroke()})}},{key:"beginPath",value:function(){this.setList.push(function(e){e.beginPath()})}},{key:"closePath",value:function(){this.setList.push(function(e){e.closePath()})}},{key:"moveTo",value:function(e,t){this.setList.push(function(n){n.moveTo(e,t)}),this.showList.push({type:r.default.LShape.POINT,arg:[e,t]})}},{key:"lineTo",value:function(e,t){this.setList.push(function(n){n.lineTo(e,t)}),this.showList.push({type:r.default.LShape.POINT,arg:[e,t]})}},{key:"rect",value:function(e,t,n,o){this.setList.push(function(i){i.rect(e,t,n,o)}),this.showList.push({type:r.default.LShape.RECT,arg:[e,t,n,o]})}},{key:"fillStyle",value:function(e){this.setList.push(function(t){t.fillStyle=e})}},{key:"fill",value:function(){this.setList.push(function(e){e.fill()})}},{key:"arc",value:function(e,t,n,o,i,a){this.setList.push(function(r){r.arc(e,t,n,o,i,a)}),this.showList.push({type:r.default.LShape.ARC,arg:o})}},{key:"lineStyle",value:function(e,t){var n=this;t||(t=n.color),n.color=t,n.setList.push(function(n){n.lineWidth=e,n.strokeStyle=t})}},{key:"clear",value:function(){var e=this;e.bitmap=null,e.setList.length=0,e.showList.length=0}},{key:"beginBitmapFill",value:function(e){var t=this;t.setList.push(function(){t.bitmap=e})}},{key:"drawEllipse",value:function(e,t,n,o,i){var a=this;a.setList.push(function(r){var l,u,s,c,f,d,h,p,v,y,b;if(r.beginPath(),f=.5522848,l=n[0],u=n[1],d=(s=n[2])/2*f,h=(c=n[3])/2*f,p=l+s,v=u+c,y=l+s/2,b=u+c/2,r.moveTo(l,b),r.bezierCurveTo(l,b-h,y-d,u,y,u),r.bezierCurveTo(y+d,u,p,b-h,p,b),r.bezierCurveTo(p,b+h,y+d,v,y,v),r.bezierCurveTo(y-d,v,l,b+h,l,b),a.bitmap)return r.save(),r.clip(),r.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),r.restore(),void(a.bitmap=null);o&&(r.fillStyle=i,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),a.showList.push({type:r.default.LShape.RECT,arg:n})}},{key:"drawArc",value:function(e,t,n,o,i){var a=this;a.setList.push(function(r){if(r.beginPath(),n.length>6&&n[6]&&r.moveTo(n[0],n[1]),r.arc(n[0],n[1],n[2],n[3],n[4],n[5]),n.length>6&&n[6]&&r.lineTo(n[0],n[1]),a.bitmap)return r.save(),r.clip(),r.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),r.restore(),void(a.bitmap=null);o&&(r.fillStyle=i,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),a.showList.push({type:r.default.LShape.ARC,arg:n})}},{key:"drawRect",value:function(e,t,n,o,i){var a=this;a.setList.push(function(r){if(r.beginPath(),r.rect(n[0],n[1],n[2],n[3]),r.closePath(),a.bitmap)return r.save(),r.clip(),r.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),r.restore(),void(a.bitmap=null);o&&(r.fillStyle=i,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),a.showList.push({type:r.default.LShape.RECT,arg:n})}},{key:"drawRoundRect",value:function(e,t,n,o,i){var a=this;r.default.LGlobal.enableWebGL?a.drawRect(e,t,n,o,i):(a.setList.push(function(r){if(r.beginPath(),r.moveTo(n[0]+n[4],n[1]),r.lineTo(n[0]+n[2]-n[4],n[1]),r.arcTo(n[0]+n[2],n[1],n[0]+n[2],n[1]+n[4],n[4]),r.lineTo(n[0]+n[2],n[1]+n[3]-n[4]),r.arcTo(n[0]+n[2],n[1]+n[3],n[0]+n[2]-n[4],n[1]+n[3],n[4]),r.lineTo(n[0]+n[4],n[1]+n[3]),r.arcTo(n[0],n[1]+n[3],n[0],n[1]+n[3]-n[4],n[4]),r.lineTo(n[0],n[1]+n[4]),r.arcTo(n[0],n[1],n[0]+n[4],n[1],n[4]),r.closePath(),a.bitmap)return r.save(),r.clip(),r.drawImage(a.bitmap.image,0,0,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),r.restore(),void(a.bitmap=null);o&&(r.fillStyle=i,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),a.showList.push({type:r.default.LShape.RECT,arg:n}))}},{key:"drawVertices",value:function(e,t,n,o,i){var a=this;n.length<3||(a.setList.push(function(r){r.beginPath(),r.moveTo(n[0][0],n[0][1]);var l=void 0,u=n.length,s=void 0;for(l=1;l<u;l++)s=n[l],r.lineTo(s[0],s[1]);if(r.lineTo(n[0][0],n[0][1]),r.closePath(),a.bitmap)return r.save(),r.clip(),r.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),r.restore(),void(a.bitmap=null);o&&(r.fillStyle=i,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.closePath(),r.stroke())}),a.showList.push({type:r.default.LShape.VERTICES,arg:n}))}},{key:"drawTriangles",value:function(e,t,n,o,i){var a=this,r=void 0,l=void 0,u=void 0,s=t.length;a.setList.push(function(c){var f=e,d=void 0,h=void 0;for(r=0,l=0;r<s;r+=3){if(c.save(),c.beginPath(),c.moveTo(f[2*t[r]],f[2*t[r]+1]),c.lineTo(f[2*t[r+1]],f[2*t[r+1]+1]),c.lineTo(f[2*t[r+2]],f[2*t[r+2]+1]),c.lineTo(f[2*t[r]],f[2*t[r]+1]),c.closePath(),o&&(c.lineWidth=o,c.strokeStyle=i,c.stroke()),c.clip(),r%6==0){h=-1;var p=(n[2*t[r+1+l]]-n[2*t[r+l]])*a.bitmap.width,v=(n[2*t[r+2]+1]-n[2*t[r]+1])*a.bitmap.height;if(0===l&&p<0){for(d=r+9;d<s;d+=3)if(n[2*t[r+2]+1]===n[2*t[d+2]+1]){l=d-r;break}0===l&&(l=s-r),p=(n[2*t[r+1+l]]-n[2*t[r+l]])*a.bitmap.width}r+l>=s?(p=(n[2*t[r+l-s]]-n[2*t[r+1]])*a.bitmap.width,(h=1===n[2*t[r]]?0:a.bitmap.width*n[2*t[r]]+p)>a.bitmap.width&&(h-=a.bitmap.width)):h=a.bitmap.width*n[2*t[r+l]],u=a.bitmap.height*n[2*t[r]+1],v<0&&(v=(n[2*t[r+2-(r>0?6:-6)]+1]-n[2*t[r-(r>0?6:-6)]+1])*a.bitmap.height,u=0);var y=(f[2*t[r+1]]-f[2*t[r]])/p,b=(f[2*t[r+1]+1]-f[2*t[r]+1])/p,g=(f[2*t[r+2]]-f[2*t[r]])/v,_=(f[2*t[r+2]+1]-f[2*t[r]+1])/v;c.transform(y,b,g,_,f[2*t[r]],f[2*t[r]+1]),c.drawImage(a.bitmap.image,a.bitmap.x+h,a.bitmap.y+u,p,v,0,0,p,v)}else{var m=(n[2*t[r+2+l]]-n[2*t[r+1+l]])*a.bitmap.width,w=(n[2*t[r+2]+1]-n[2*t[r]+1])*a.bitmap.height;if(0===l&&m<0){for(d=r+9;d<s;d+=3)if(n[2*t[r+2]+1]===n[2*t[d+2]+1]){l=d-r;break}0===l&&(l=s-r),m=(n[2*t[r+2+l]]-n[2*t[r+1+l]])*a.bitmap.width}r+1+l>=s?(m=(n[2*t[r+1+l-s]]-n[2*t[r+2]])*a.bitmap.width,(h=1===n[2*t[r+1]]?0:a.bitmap.width*n[2*t[r+1]]+m)>a.bitmap.width&&(h-=a.bitmap.width)):h=a.bitmap.width*n[2*t[r+1+l]],u=a.bitmap.height*n[2*t[r]+1],w<0&&(w=(n[2*t[r+2-(r>0?6:-6)]+1]-n[2*t[r-(r>0?6:-6)]+1])*a.bitmap.height,u=0);var O=(f[2*t[r+2]]-f[2*t[r+1]])/m,E=(f[2*t[r+2]+1]-f[2*t[r+1]+1])/m,x=(f[2*t[r+2]]-f[2*t[r]])/w,L=(f[2*t[r+2]+1]-f[2*t[r]+1])/w;c.transform(O,E,x,L,f[2*t[r+1]],f[2*t[r+1]+1]),c.drawImage(a.bitmap.image,a.bitmap.x+h,a.bitmap.y+u,m,w,0,-w,m,w)}c.restore()}})}},{key:"drawLine",value:function(e,t,n){this.setList.push(function(o){o.beginPath(),o.moveTo(n[0],n[1]),o.lineTo(n[2],n[3]),o.lineWidth=e,o.strokeStyle=t,o.closePath(),o.stroke()}),this.showList.push({type:r.default.LShape.LINE,arg:n})}},{key:"add",value:function(e){this.setList.push(e)}},{key:"ismouseon",value:function(e,t){var n=this;return!(!e||0===n.showList.length||!n.parent)&&n.parent.ismouseonShapes(n.showList,e.offsetX,e.offsetY)}},{key:"getWidth",value:function(){var e,t=this,n=void 0,i=void 0,a=void 0,u=void 0,s=void 0,c=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===r.default.LShape.RECT)(a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.ARC)(a>t.showList[n].arg[0]-t.showList[n].arg[2]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]-t.showList[n].arg[2]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.VERTICES)for(i=0,c=t.showList[n].arg.length;i<c;i++)(a>(s=t.showList[n].arg[i])[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=s[0]),(u<s[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=s[0]);else t.showList[n].type===r.default.LShape.LINE?((a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(a>t.showList[n].arg[2]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[2]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]),(u<t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[2])):t.showList[n].type===r.default.LShape.POINT&&((a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]));return(void 0===a?"undefined":o(a))===l.UNDEFINED&&(a=u=0),t.left=a,e>0&&u===a&&(u=a+1),u-a}},{key:"getHeight",value:function(){var e,t=this,n=null,i=null,a=void 0,u=void 0,s=void 0,c=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===r.default.LShape.RECT)(u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]+t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[3]);else if(t.showList[n].type===r.default.LShape.ARC)(u>t.showList[n].arg[1]-t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]-t.showList[n].arg[2]),(s<t.showList[n].arg[1]+t.showList[n].arg[2]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.VERTICES)for(i=0,a=t.showList[n].arg.length;i<a;i++)(u>(c=t.showList[n].arg[i])[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=c[1]),(s<c[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=c[1]);else t.showList[n].type===r.default.LShape.LINE?((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(u>t.showList[n].arg[3]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[3]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]),(s<t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[3])):t.showList[n].type===r.default.LShape.POINT&&((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]));return(void 0===u?"undefined":o(u))===l.UNDEFINED&&(u=s=0),t.top=u,e>0&&s===u&&(s=u+1),s-u}},{key:"startX",value:function(){return this.getWidth(),this.left}},{key:"startY",value:function(){return this.getHeight(),this.top}}]),t}();r.default.LGraphics=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(9),l=(o=r)&&o.__esModule?o:{default:o},u=n(0);var s=function(e){function t(e,n,o,a,r,l,s,c,f){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return d.a=(void 0===e?"undefined":i(e))!==u.UNDEFINED?e:1,d.b=(void 0===n?"undefined":i(n))!==u.UNDEFINED?n:0,d.u=(void 0===s?"undefined":i(s))!==u.UNDEFINED?s:0,d.c=(void 0===o?"undefined":i(o))!==u.UNDEFINED?o:0,d.d=(void 0===a?"undefined":i(a))!==u.UNDEFINED?a:1,d.v=(void 0===c?"undefined":i(c))!==u.UNDEFINED?c:0,d.tx=(void 0===r?"undefined":i(r))!==u.UNDEFINED?r:0,d.ty=(void 0===l?"undefined":i(l))!==u.UNDEFINED?l:0,d.w=(void 0===f?"undefined":i(f))!==u.UNDEFINED?f:1,d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"setTo",value:function(e,t,n,o,a,r,l,s,c){var f=this;return(void 0===e?"undefined":i(e))!==u.UNDEFINED&&(f.a=e),(void 0===t?"undefined":i(t))!==u.UNDEFINED&&(f.b=t),(void 0===n?"undefined":i(n))!==u.UNDEFINED&&(f.c=n),(void 0===o?"undefined":i(o))!==u.UNDEFINED&&(f.d=o),(void 0===a?"undefined":i(a))!==u.UNDEFINED&&(f.tx=a),(void 0===r?"undefined":i(r))!==u.UNDEFINED&&(f.ty=r),(void 0===l?"undefined":i(l))!==u.UNDEFINED&&(f.u=l),(void 0===s?"undefined":i(s))!==u.UNDEFINED&&(f.v=s),(void 0===c?"undefined":i(c))!==u.UNDEFINED&&(f.w=c),f}},{key:"isIdentity",value:function(){var e=this;return 1===e.a&&0===e.b&&0===e.c&&1===e.d&&0===e.tx&&0===e.ty&&0===e.u&&0===e.v&&1===e.w}},{key:"transform",value:function(e){var t=this;return e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),t}},{key:"identity",value:function(){this.setTo(1,0,0,1,0,0,0,0,1)}},{key:"rotate",value:function(e){var n=e*Math.PI/180,o=Math.cos(n),i=Math.sin(n),a=new t(o,i,-i,o,0,0,0,0,1);return this.add(a),this}},{key:"scale",value:function(e,n){var o=new t(e,0,0,n,0,0,0,0,1);return this.add(o),this}},{key:"translate",value:function(e,n){var o=new t(1,0,0,1,e,n,0,0,1);return this.add(o),this}},{key:"skew",value:function(e,n){var o=new t(1,n,e,1,0,0,0,0,1);return this.add(o),this}},{key:"add",value:function(e){var t,n,o,i,a,r,l,u,s,c=this;t=c.a*e.a+c.b*e.c+c.u*e.tx,n=c.a*e.b+c.b*e.d+c.u*e.ty,l=c.a*e.u+c.b*e.v+c.u*e.w,o=c.c*e.a+c.d*e.c+c.v*e.tx,i=c.c*e.b+c.d*e.d+c.v*e.ty,u=c.c*e.u+c.d*e.v+c.v*e.w,a=c.tx*e.a+c.ty*e.c+c.w*e.tx,r=c.tx*e.b+c.ty*e.d+c.w*e.ty,s=c.tx*e.u+c.ty*e.v+c.w*e.w,c.setTo(t,n,o,i,a,r,l,u,s)}},{key:"toArray",value:function(e){var t=this;if(Array.isArray(e)&&3===e.length)return[e[0]*t.a+e[1]*t.c+e[2]*t.tx,e[0]*t.b+e[1]*t.d+e[2]*t.ty,e[0]*t.u+e[1]*t.v+e[2]*t.w];var n=t.a*e.a+t.b*e.c+t.u*e.tx,o=t.a*e.b+t.b*e.d+t.u*e.ty,i=t.a*e.u+t.b*e.v+t.u*e.w,a=t.c*e.a+t.d*e.c+t.v*e.tx,r=t.c*e.b+t.d*e.d+t.v*e.ty,l=t.c*e.u+t.d*e.v+t.v*e.w;return[n,o,a,r,t.tx*e.a+t.ty*e.c+t.w*e.tx,t.tx*e.b+t.ty*e.d+t.w*e.ty,i,l,t.tx*e.u+t.ty*e.v+t.w*e.w]}},{key:"clone",value:function(){var e=this;return new t(e.a,e.b,e.c,e.d,e.tx,e.ty,e.u,e.v,e.w)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(9),a=(o=i)&&o.__esModule?o:{default:o};var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.matrix=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(28)),a=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.childList=[],e.numChildren=0,e.mouseChildren=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"addChild",value:function(e){var t=this,n=void 0;return e.parent&&(n=a.default.LGlobal.destroy,a.default.LGlobal.destroy=!1,e.parent.removeChild(e),a.default.LGlobal.destroy=n),e.parent=t,t.childList.push(e),t.numChildren=t.childList.length,t._ll_removeFromSelf=!1,e}},{key:"addChildAt",value:function(e,t){var n=this,o=void 0;if(!(t<0||t>n.childList.length))return"function"==typeof e.remove&&(o=a.default.LGlobal.destroy,a.default.LGlobal.destroy=!1,e.remove(),a.default.LGlobal.destroy=o),e.parent=n,n.childList.splice(t,0,e),n.numChildren=n.childList.length,n._ll_removeFromSelf=!1,e}},{key:"removeChild",value:function(e){var n,o=this,i=o.childList,r=void 0;for(r=0,n=i.length;r<n;r++)if(e.objectIndex===i[r].objectIndex){t.destroy(e),o.childList.splice(r,1);break}o.numChildren=o.childList.length,delete e.parent,a.default.LTweenLite.removeTarget(e)}},{key:"getChildAt",value:function(e){var t=this.childList;return 0===t.length||t.length<=e?null:t[e]}},{key:"getChildByName",value:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(n[o]&&n[o].name===e)return n[o];return null}},{key:"removeChildAt",value:function(e){var n=this,o=n.childList,i=void 0;if(!(o.length<=e||e<0))return i=o[e],t.destroy(i),n.childList.splice(e,1),delete i.parent,a.default.LTweenLite.removeTarget(i),n.numChildren=n.childList.length,i}},{key:"getChildIndex",value:function(e){if(!e)return-1;var t=this.childList,n=void 0,o=t.length;for(n=0;n<o;n++)if(t[n].objectIndex===e.objectIndex)return n;return-1}},{key:"setChildIndex",value:function(e,t){var n=this,o=n.childList,i=void 0,a=o.length;if("root"===e.parent||e.parent.objectIndex!==n.objectIndex||t<0||t>=a)return-1;for(i=0;i<a&&o[i].objectIndex!==e.objectIndex;i++);return n.childList.splice(i,1),n.childList.splice(t,0,e),t}},{key:"resize",value:function(){var e=this;e.width=e.getWidth(),e.height=e.getHeight()}},{key:"removeAllChild",value:function(){var e,n=this,o=n.childList,i=void 0;for(i=0,e=o.length;i<e;i++){var r=o[i];t.destroy(r),delete r.parent,a.default.LTweenLite.removeTarget(r)}n.childList.length=0,n.width=0,n.height=0,n.numChildren=0}}]),t}();l.destroy=function(e){a.default.LGlobal.destroy&&(e.die&&e.die(),e.removeAllChild&&e.removeAllChild())},t.default=l},function(e,t,n){"use strict";var o=u(n(10)),i=u(n(7)),a=n(16),r=u(n(59)),l=u(n(34));u(n(26)),u(n(14)),u(n(13)),u(n(5)),u(n(4)),u(n(20)),u(n(8)),u(n(12)),u(n(18)),u(n(58)),u(n(56)),u(n(55)),u(n(31)),u(n(49)),u(n(48)),u(n(46)),u(n(44)),u(n(43)),u(n(42)),u(n(41)),u(n(40)),u(n(29));function u(e){return e&&e.__esModule?e:{default:e}}i.default.width=640,i.default.height=i.default.width*window.innerHeight/window.innerWidth,(0,a.LInit)(50,"legend",i.default.width,i.default.height,function(){i.default.align=l.default.TOP_LEFT,i.default.stageScale=r.default.SHOW_ALL,i.default.screen(i.default.FULL_SCREEN),i.default.debug=!0,o.default.loadScene("prefabs/Scene/Top")})}]);